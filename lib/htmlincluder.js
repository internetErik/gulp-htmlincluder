(()=>{"use strict";var __webpack_modules__={500:(e,t,n)=>{n.d(t,{q6:()=>r,dX:()=>o,dk:()=>a,YM:()=>i,V1:()=>c,Ov:()=>s});var r={},o={},a=[],i={},c=function(e){"_"===e.name[0]?r[e.path]=e:"-"===e.name[0]?o[e.path]=e:a.push(e)},s=function(e){e.dev,(i=e).insertPattern&&i.insertPattern,i.filePathAttribute&&i.filePathAttribute,!i.jsonPathAttribute||i.jsonPathAttribute}},352:(e,t,n)=>{var r=n(500),o=n(805);(e=n.hmd(e)).exports={initialize:function(e){return(0,r.Ov)(e)},hashFile:function(e){var t=i(e);c(t),(0,r.V1)(t)},buildFileResult:function(e){return r.dk.map((function(t){var n=(0,o.$)(t,r.YM.jsonInput||{});return t.content=n.content,t.processed=!0,e&&e(t),t}))}};var a=/^win/.test(process.platform),i=function(e){var t={path:e.path,content:e.contents.toString("utf8").trim(),processed:!1,file:e};return t.name=a?e.path.split("\\"):e.path.split("/"),t.name=t.name[t.name.length-1],t},c=function(e){if(e.content.indexOf("\x3c!--#clipbefore")>-1&&(e.content=e.content.split(/<!--#clipbefore\s*-->/).splice(1)[0].split("\x3c!--#clipafter").splice(0,1)[0]),e.content.indexOf("\x3c!--#clipbetween")>-1){var t=e.content.split(/<!--#clipbetween\s*-->/);e.content=t[0]+t[1].split(/<!--#endclipbetween\s*-->/)[1]}}},805:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>processFile});var _config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(500);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var getDefaultNode=function(){return{type:"",file:{},originalContent:"",content:"",parent:{},innerScope:null,children:[],nestedNodes:[],attributes:{}}},processFile=function(e,t,n,r){var o=_objectSpread(_objectSpread(_objectSpread({},getDefaultNode()),{},{type:"topNode",file:e,originalContent:e.content,content:e.content},n?{parent:n}:{}),r?{innerScope:r}:{});return-1===o.originalContent.indexOf("\x3c!--#")||processNode(o,t),o},processNode=function(e,t){if("textContent"===e.type)return e;var n=splitContent(e.content).filter((function(e){return""!==e}));return e.nestedNodes=buildNodes(e,n,t),resolveNode(e,t)},buildNodes=function e(t,n,r,o){for(var a=[];n.length>0;){var i=n.shift();if(o&&0===i.indexOf(o))return a;var c=findNodeType(i),s=_objectSpread(_objectSpread({},getDefaultNode()),{},{type:c,parent:t,file:t.file,innerScope:t.innerScope,originalContent:i,content:i});"textContent"!==c?(s.content=s.originalContent.slice(1),s.children="wrap"===c?e(s,n,r,"\x3c!--#endwrap"):"each"===c?e(s,n,r,"\x3c!--#endeach"):"if"===c?e(s,n,r,"\x3c!--#endif"):[],a.push(s)):a.push(s)}return o&&console.warn("WARNING while processing file '".concat(t.file.path,"': there is a missing tag")),a},resolveNode=function(e,t){e.nestedNodes.length>0&&(e.nestedNodes.forEach((function(e){return processNode(e,t)})),e.content=joinContent(e.nestedNodes));var n=nodeProcessors[e.type];return n?(e.attributes=loadNodeAttributes(e,t),n(e,t)):(console.warn("WARNING while processing file '".concat(e.file.path,"': there is no processor for type '").concat(e.type,"'")),e)},loadNodeAttributes=function(e,t){return(nodeAttributes[e.type]||[]).reduce((function(n,r){if(hasTagAttribute(r,e.content)){var o=getTagAttribute(r,e.content);n[r]="rawJson"===r?processRawJson(o,t):o}return n}),{})},findNodeType=function(e){return 0===e.indexOf("\x3c!--#insert")?"insert":0===e.indexOf("\x3c!--#data")?"data":0===e.indexOf("\x3c!--#jsonInsert")?"jsonInsert":0===e.indexOf("\x3c!--#wrap")?"wrap":0===e.indexOf("\x3c!--#middle")?"middle":0===e.indexOf("\x3c!--#each")?"each":0===e.indexOf("\x3c!--#if")?"if":"textContent"},joinContent=function(e){return e.map((function(e){return e.content})).join("")},nodeProcessors={topNode:function(e,t){return e.content=joinContent(e.nestedNodes),e},textContent:function(e,t){return console.warn("WARNING: Why are we processing a textContent?"),e},insert:function(e,t){var n=e.file,r=e.innerScope,o=e.attributes,a=o.path,i=o.jsonPath,c=o.rawJson;if(!a)return console.warn("WARNING while processing file '".concat(n.path,"': insert tag with no path attribute")),e.content="",e;var s=buildPathFromRelativePath(n.path,a);if(!_config__WEBPACK_IMPORTED_MODULE_0__.dX[s])return console.warn("WARNING while processing file '".concat(n.path,"': insert file '").concat(s,"' does not exist")),e.content="",e;var u=_objectSpread({},_config__WEBPACK_IMPORTED_MODULE_0__.dX[s]),l=c&&i?getDataFromJsonPath(i,c):r&&i?getDataFromJsonPath(i,r):c||(i?getDataFromJsonPath(i,t):void 0),p=processFile(u,t,e,l);return e.content=p.content,e},wrap:function(e,t){var n=e.file,r=e.innerScope,o=e.attributes,a=o.path,i=o.jsonPath,c=o.rawJson;if(!a)return console.warn("WARNING while processing file '".concat(e.file.path,"': wrap tag with no path attribute")),e.content="",e;var s=buildPathFromRelativePath(n.path,a);if(!_config__WEBPACK_IMPORTED_MODULE_0__.q6[s])return console.warn("WARNING while processing file '".concat(e.file.path,"': wrap file '").concat(s,"' does not exist")),e.content="",e;e.children=e.children.map((function(e){return processNode(e,t)})),e.content=joinContent(e.children);var u=_objectSpread({},_config__WEBPACK_IMPORTED_MODULE_0__.q6[s]),l=c&&i?getDataFromJsonPath(i,c):r&&i?getDataFromJsonPath(i,r):c||(i?getDataFromJsonPath(i,t):void 0),p=processFile(u,t,e,l);return e.content=p.content,e},middle:function(e,t){return e.content=e.parent.parent.content,e},data:function(e,t){var n=e.innerScope,r=e.file,o=e.attributes,a=o.jsonPath,i=o.rawJson,c=e.attributes.default;if(!a||!i&&!n&&!c)return console.warn("WARNING while processing file '".concat(r.path,"': data tag with no data to look up for content '").concat(e.originalContent,"'")),e.content="",e;var s=getDataFromJsonPath(a,i||n);return e.content=s||c||"",e},jsonInsert:function(e,t){var n=e.attributes.jsonPath,r=e.attributes.default;if(!n)return e.content="",e;var o=getDataFromJsonPath(n,t);return e.content=o||r||"",e},each:function(e,t){var n=e.file,r=e.innerScope,o=e.attributes,a=o.count,i=o.jsonPath,c=o.rawJson;if(!(a||i||Array.isArray(c)||Array.isArray(r)))return console.warn("WARNING while processing file '".concat(n.path,"': each tag with attribute problems: count, jsonPath and rawJson and innerScope are not arrays")),e.content="",e;var s=c||e.innerScope||t,u=i?getDataFromJsonPath(i,s):void 0,l=Array.isArray(s)?s:Array.isArray(u)?u:void 0;if(!l&&!a)return e.content="",e;for(var p=[],f=function(n){var r=e.children.map((function(e){return _objectSpread(_objectSpread(_objectSpread(_objectSpread({},e),e.nestedNodes?{nestedNodes:e.nestedNodes}:{}),e.children?{children:e.children}:{}),l?{innerScope:l[n]}:{})}));r=r.map((function(e){return processNode(e,t)})),p.push(joinContent(r))},d=0;(!a||a&&d<a)&&(!l||l&&d<l.length);d++)f(d);return e.content=p.join(""),e},if:function(e,t){var n=e.innerScope,r=e.attributes,o=r.jsonPath,a=r.rawJson;return o&&getDataFromJsonPath(o,a||n||t)?(e.children=e.children.map((function(n){return processNode(_objectSpread(_objectSpread({},n),{},{innerScope:_objectSpread({},e.innerScope)}),t)})),e.content=joinContent(e.children),e):(e.content="",e)}},nodeAttributes={insert:["path","jsonPath","rawJson"],data:["jsonPath","rawJson","default"],jsonInsert:["jsonPath","default"],wrap:["path","jsonPath","rawJson"],middle:[],each:["count","jsonPath","rawJson"],if:["jsonPath","rawJson"],textContent:[]},getTagPositions=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.indexOf(t);return-1===o?[]:[o+r].concat(_toConsumableArray(e(t,n.slice(o+1),r+o+1)))},buildTagPairs=function e(t,n){return 0===t.length?[]:1===t.length||t[1]>n[0]?[[t.slice(0,1)[0],n.slice(0,1)[0]]].concat(_toConsumableArray(e(t.slice(1),n.slice(1)))):_toConsumableArray(e([].concat(_toConsumableArray(t.slice(0,1)),_toConsumableArray(t.slice(2))),n.slice(1)))},divideContent=function e(t,n,r){var o=_slicedToArray(n,2),a=o[0],i=o[1],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return void 0===a?[t.slice(c)]:[t.slice(c,a),t.slice(a,i+3)].concat(_toConsumableArray(e(t,r.shift()||[],r,i+3)))},splitContent=function(e){var t=getTagPositions("\x3c!--#",e),n=getTagPositions("--\x3e",e);t.length<n.length&&n.pop();var r=buildTagPairs(t,n);return divideContent(e,r.shift()||[],r).filter((function(e){return""!==e}))},getDataFromJsonPath=function(e,t){if("this"===e)return t;var n=e.split(".").reduce((function(e,t){return e?e[t]:""}),t);return Array.isArray(n)||"object"!==_typeof(n)||(n=toSafeJsonString(n)),n},isWin=/^win/.test(process.platform),fixFilePathForOS=function(e){return isWin?e.replace(/\//g,"\\"):e.replace(/\\/g,"/")},buildPathFromRelativePath=function(e,t){var n=isWin?"\\":"/",r=e.split(n);return r.pop(),(t=fixFilePathForOS(t)).split(n).forEach((function(e){".."===e?r.pop():"."!==e&&""!==e&&r.push(e)})),r=r.join(n)},toSafeJsonString=function(e){return JSON.stringify(e).replace(/\'/g,"\\'").replace(/"/g,"'")},processRawJson=function processRawJson(jsonString,json){"object"===_typeof(jsonString)&&(jsonString=toSafeJsonString(jsonString));var jsonData={};try{eval("jsonData = "+jsonString)}catch(e){console.error("ERROR: Poorly formatted rawJson string:\n      ".concat(jsonString,"\n      This must be valid JavaScript.\n    "))}return jsonData},hasTagAttribute=function(e,t){return t.indexOf(e+'="')>-1},getTagAttribute=function(e,t){var n,r;return-1===(n=t.indexOf(e+'="'))?(console.warn("Warning: no tag of name `"+e+"` found in the following content: `"+t+"`"),""):(r=(t=t.slice(n+e.length+2)).indexOf('"'),t=t.slice(0,r))}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__=__webpack_require__(352)})();
//# sourceMappingURL=htmlincluder.js.map