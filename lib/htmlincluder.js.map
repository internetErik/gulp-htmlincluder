{"version":3,"sources":["webpack:///webpack/bootstrap 32dd8476bce3abf3d592","webpack:///./src/index.js","webpack:///./node_modules/process/browser.js"],"names":["isWin","test","process","platform","File","file","f","name","path","content","contents","toString","processed","split","length","module","exports","htmlIncluder","includer","wrapFiles","insertFiles","pageFiles","pageTree","insertPattern","filePathAttribute","jsonPathAttribute","options","devOptions","fixFilePathForOS","replace","buildPathFromRelativePath","cdir","fdir","dir","dirChar","pop","forEach","e","push","join","printPaths","console","log","stripInnerTags","tmpContent","substr","startNdx","indexOf","closeNdx","parseToClosingTag","warn","hasTagAttribute","attr","getTagAttribute","fndx","lndx","slice","setTagAttribute","value","left","right","changeTagAttributeName","newAttr","removeTagAttribute","middle","error","addTagAttribute","getDataFromJsonPath","jsonPath","jsonObj","json","jsonInput","result","reduce","acc","cur","Array","isArray","toSafeJsonString","JSON","stringify","processRawJson","jsonString","jsonData","eval","searchPattern","endPattern","tagDepth","nextCloseNdx","nextOpenNdx","tmp","splitContent","tag","arr","partial","addRawJsonWhereJsonPath","rawJson","jsonParentPath","data","bluntDataTagsInEaches","map","fragment","ndx","unbluntDataTagsInEaches","eachLevel","appendJsonParentPath","updateRelativePaths","findIndexOfClosingTag","openTag","closeTag","endNdx","openCount","i","processIf","processEach","count","parseInt","splice","j","concat","apply","processWraps","fpath","filename","pathPattern","absPathPattern","pattern","pathTag","tmpPath","processInserts","processJsonData","defaultValue","processJsonInsert","warning","processContent","pathStack","tempDirectory","splitArr","itterCount","hasPath","hasAbsPath","ret","printIterations","limitIterations","printResult","processClip","initialize","ops","dev","buildFileResult","callback","hashFile"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;AC7DA,IAAIA,QAAQ,OAAOC,IAAP,CAAYC,QAAQC,QAApB,CAAZ;;AAEA,SAASC,IAAT,CAAcC,IAAd,EAAoB;AAClB,MAAIC,IAAI;AACNC,UAAO,EADD;AAENC,UAAOH,KAAKG,IAFN;AAGNC,aAAUJ,KAAKK,QAAL,CAAcC,QAAd,CAAuB,MAAvB,CAHJ;AAINC,eAAY,KAJN;AAKNP,UAAOA;AALD,GAAR;;AAQAC,IAAEC,IAAF,GAAUP,KAAD,GAAUK,KAAKG,IAAL,CAAUK,KAAV,CAAgB,IAAhB,CAAV,GAAkCR,KAAKG,IAAL,CAAUK,KAAV,CAAgB,GAAhB,CAA3C;AACAP,IAAEC,IAAF,GAASD,EAAEC,IAAF,CAAOD,EAAEC,IAAF,CAAOO,MAAP,GAAc,CAArB,CAAT;;AAEA,SAAOR,CAAP;AACD;;AAEDS,OAAOC,OAAP,GAAkB,SAASC,YAAT,GAAwB;AACxC,MAAIC,WAAW,EAAf;AAAA,MACIC,YAAY,EADhB;AAAA,MAEIC,cAAc,EAFlB;AAAA,MAGIC,YAAY,EAHhB;AAAA,MAIIC,WAAW,EAJf;AAAA,MAKIC,aALJ;AAAA,MAMIC,iBANJ;AAAA,MAOIC,iBAPJ;AAAA,MAQIC,OARJ;AAAA,MASIC,UATJ;;AAWA;AACA,WAASC,gBAAT,CAA0BpB,IAA1B,EAAgC;AAC9B,WAAQR,KAAD,GAAUQ,KAAKqB,OAAL,CAAa,KAAb,EAAoB,IAApB,CAAV,GAAsCrB,KAAKqB,OAAL,CAAa,KAAb,EAAoB,GAApB,CAA7C;AACD;;AAED;AACA;AACA,WAASC,yBAAT,CAAmCC,IAAnC,EAAyCC,IAAzC,EAA+C;AAC7C,QAAIC,GAAJ;AAAA,QACIC,UAAWlC,KAAD,GAAU,IAAV,GAAiB,GAD/B;;AAGAiC,UAAMF,KAAKlB,KAAL,CAAWqB,OAAX,CAAN;;AAEAF,WAAOJ,iBAAiBI,IAAjB,CAAP;AACAC,QAAIE,GAAJ;;AAEAH,SAAKnB,KAAL,CAAWqB,OAAX,EACGE,OADH,CACW,UAASC,CAAT,EAAY;AAClBA,YAAM,IAAP,GAAeJ,IAAIE,GAAJ,EAAf,GAA4BE,MAAM,GAAN,IAAaA,MAAM,EAApB,GAA0BJ,IAAIK,IAAJ,CAASD,CAAT,CAA1B,GAAwC,KAAK,CAAxE;AACD,KAHH;AAIAJ,UAAMA,IAAIM,IAAJ,CAASL,OAAT,CAAN;AACA,QAAGP,WAAWa,UAAd,EAA0B;AACxBC,cAAQC,GAAR,CAAY,2CAAZ;AACAD,cAAQC,GAAR,CAAY,UAAZ,EAAwBX,IAAxB;AACAU,cAAQC,GAAR,CAAY,UAAZ,EAAwBV,IAAxB;AACAS,cAAQC,GAAR,CAAY,UAAZ,EAAwBT,GAAxB;AACAQ,cAAQC,GAAR,CAAY,+CAAZ;AACD;AACD,WAAOT,GAAP;AACD;;AAED,WAASU,cAAT,CAAwBlC,OAAxB,EAAiC;AAC/B;AACA,QAAImC,aAAanC,QAAQoC,MAAR,CAAe,CAAf,EAAkBpC,QAAQK,MAAR,GAAiB,CAAnC,EAAsC+B,MAAtC,CAA6C,CAA7C,CAAjB;;AAEA,QAAIC,WAAWF,WAAWG,OAAX,CAAmB,OAAnB,CAAf;;AAEA,QAAGD,aAAa,CAAC,CAAjB,EACE,OAAOrC,OAAP;;AAEF,WAAMqC,aAAa,CAAC,CAApB,EAAuB;AACrB,UAAIE,WAAWC,kBAAkBL,WAAWC,MAAX,CAAkBC,QAAlB,CAAlB,EAA+C,OAA/C,EAAwD,KAAxD,CAAf;AACA,UAAGE,WAAW,CAAC,CAAf,EAAkB;AAChBJ,qBAAaA,WAAWC,MAAX,CAAkB,CAAlB,EAAqBC,QAArB,IAAiCF,WAAWC,MAAX,CAAkBG,QAAlB,CAA9C;AACAF,mBAAWA,WAAWF,WAAWG,OAAX,CAAmB,OAAnB,CAAtB;AACD,OAHD,MAIK;AACHN,gBAAQS,IAAR,CAAa,iCAAb;AACA;AACD;AACF;;AAED,WAAO,MAAMN,UAAN,GAAmB,GAA1B;AACD;;AAED;AACA,WAASO,eAAT,CAAyBC,IAAzB,EAA+B3C,OAA/B,EAAwC;AACtC;AACA;AACA,WAAOA,QAAQsC,OAAR,CAAgBK,OAAO,IAAvB,IAA+B,CAAC,CAAvC;AACD;;AAED;AACA,WAASC,eAAT,CAAyBD,IAAzB,EAA+B3C,OAA/B,EAAwC;AACtC,QAAI6C,OAAO,CAAC,CAAZ;AAAA,QACIC,OAAO,CAAC,CADZ;;AAGAD,WAAO7C,QAAQsC,OAAR,CAAgBK,OAAO,IAAvB,CAAP;AACA,QAAGE,SAAS,CAAC,CAAb,EAAgB;AACdb,cAAQS,IAAR,CAAa,8BAA8BE,IAA9B,GAAqC,qCAArC,GAA6E3C,OAA7E,GAAuF,GAApG;AACA,aAAO,EAAP;AACD;;AAEDA,cAAUA,QAAQ+C,KAAR,CAAcF,OAAOF,KAAKtC,MAAZ,GAAqB,CAAnC,CAAV;AACAyC,WAAO9C,QAAQsC,OAAR,CAAgB,GAAhB,CAAP;AACAtC,cAAUA,QAAQ+C,KAAR,CAAc,CAAd,EAAiBD,IAAjB,CAAV;AACA,WAAO9C,OAAP;AACD;;AAED;AACA,WAASgD,eAAT,CAAyBL,IAAzB,EAA+B3C,OAA/B,EAAwCiD,KAAxC,EAA+C;AAC7C,QAAIJ,OAAO,CAAC,CAAZ;AAAA,QACIC,OAAO,CAAC,CADZ;AAEII,WAAO,EAAP;AACAC,YAAQ,EAAR;;AAEJN,WAAO7C,QAAQsC,OAAR,CAAgBK,OAAO,IAAvB,CAAP;AACAO,WAAOlD,QAAQ+C,KAAR,CAAc,CAAd,EAAiBF,OAAOF,KAAKtC,MAAZ,GAAqB,CAAtC,CAAP;AACAL,cAAUA,QAAQ+C,KAAR,CAAcF,OAAOF,KAAKtC,MAAZ,GAAqB,CAAnC,CAAV;AACAyC,WAAO9C,QAAQsC,OAAR,CAAgB,GAAhB,CAAP;AACAa,YAAQnD,QAAQ+C,KAAR,CAAcD,IAAd,CAAR;AACA9C,cAAUkD,OAAOD,KAAP,GAAeE,KAAzB;AACA,WAAOnD,OAAP;AACD;;AAED;AACA,WAASoD,sBAAT,CAAgCT,IAAhC,EAAsC3C,OAAtC,EAA+CqD,OAA/C,EAAwD;AACtD,QAAIR,OAAO,CAAC,CAAZ;AAAA,QACIC,OAAO,CAAC,CADZ;AAEII,WAAO,EAAP;AACAC,YAAQ,EAAR;;AAEJN,WAAO7C,QAAQsC,OAAR,CAAgBK,OAAO,IAAvB,CAAP;AACAO,WAAOlD,QAAQ+C,KAAR,CAAc,CAAd,EAAiBF,IAAjB,CAAP;AACAM,YAAQnD,QAAQ+C,KAAR,CAAcF,OAAOF,KAAKtC,MAA1B,CAAR;AACA,WAAO6C,OAAOG,OAAP,GAAiBF,KAAxB;AACD;;AAED;AACA,WAASG,kBAAT,CAA4BX,IAA5B,EAAkC3C,OAAlC,EAA2C;AACzC,QAAI6C,OAAO,CAAC,CAAZ;AAAA,QACIC,OAAO,CAAC,CADZ;AAAA,QAEII,OAAO,EAFX;AAAA,QAGIC,QAAQ,EAHZ;AAAA,QAIII,SAASvD,OAJb;;AAMA,QAAG0C,gBAAgBC,IAAhB,EAAsBY,MAAtB,CAAH,EAAkC;AAChCV,aAAOU,OAAOjB,OAAP,CAAeK,OAAO,IAAtB,CAAP;AACAO,aAAOK,OAAOR,KAAP,CAAa,CAAb,EAAgBF,IAAhB,CAAP;AACAM,cAAQI,OAAOR,KAAP,CAAaF,OAAOF,KAAKtC,MAAZ,GAAqB,CAAlC,CAAR;AACA;AACAyC,aAAOK,MAAMb,OAAN,CAAc,GAAd,CAAP;AACA,UAAGQ,SAAS,CAAC,CAAb,EAAgB;AACdd,gBAAQwB,KAAR,CAAc,gCAAgCxD,OAA9C;AACA,eAAOA,OAAP;AACD,OAHD,MAIK;AACHmD,gBAAQA,MAAMJ,KAAN,CAAYD,OAAO,CAAnB,CAAR;AACAS,iBAAS,EAAT;AACD;AACF;AACD,WAAOL,OAAOK,MAAP,GAAgBJ,KAAvB;AACD;;AAED;AACA,WAASM,eAAT,CAAyBd,IAAzB,EAA+B3C,OAA/B,EAAwCiD,KAAxC,EAA+C;AAC7C,QAAIJ,OAAO,CAAC,CAAZ;AAAA,QACIC,OAAO,CAAC,CADZ;AAAA,QAEII,OAAO,EAFX;AAAA,QAGIC,QAAQ,EAHZ;AAAA,QAIII,SAASvD,OAJb;;AAMA8C,WAAOS,OAAOjB,OAAP,CAAe,GAAf,CAAP;AACA,QAAGQ,OAAO,CAAC,CAAX,EAAc;AACZI,aAAOK,OAAOR,KAAP,CAAa,CAAb,EAAgBD,IAAhB,CAAP;AACAK,cAAQI,OAAOR,KAAP,CAAaD,IAAb,CAAR;AACAS,qBAAaZ,IAAb,UAAsBM,KAAtB;AACD;;AAED,WAAOC,OAAOK,MAAP,GAAgBJ,KAAvB;AACD;;AAED;AACA,WAASO,mBAAT,CAA6BC,QAA7B,EAAuCC,OAAvC,EAAgD;AAC9C,QAAIC,OAAOD,WAAW3C,QAAQ6C,SAA9B;AACA,QAAIC,MAAJ;;AAEA,QAAGJ,aAAa,GAAhB,EAAqB,OAAO1C,QAAQ6C,SAAf;AACrB,QAAGH,aAAa,MAAhB,EAAwB,OAAOE,IAAP;AACxBE,aAASJ,SAASvD,KAAT,CAAe,GAAf,EAAoB4D,MAApB,CAA2B,UAACC,GAAD,EAAMC,GAAN;AAAA,aAAcD,MAAMA,IAAIC,GAAJ,CAAN,GAAiB,EAA/B;AAAA,KAA3B,EAA8DL,IAA9D,CAAT;;AAEA,QAAGM,MAAMC,OAAN,CAAcL,MAAd,CAAH,EAAyB,CAAzB,KACK,IAAG,QAAOA,MAAP,yCAAOA,MAAP,OAAmB,QAAtB,EACHA,SAASM,iBAAiBN,MAAjB,CAAT;;AAGF,WAAOA,MAAP;AACD;;AAED;AACA,WAASM,gBAAT,CAA0BT,OAA1B,EAAmC;AACjC,WAAOU,KAAKC,SAAL,CAAeX,OAAf,EAAwBxC,OAAxB,CAAgC,KAAhC,EAAuC,KAAvC,EAA8CA,OAA9C,CAAsD,IAAtD,EAA4D,GAA5D,CAAP;AACD;;AAED;AACA,WAASoD,cAAT,CAAwBC,UAAxB,EAAoC;AAClC,QAAIC,WAAW,EAAf;;AAEA,QAAG,QAAOD,UAAP,yCAAOA,UAAP,OAAuB,QAA1B,EACEA,aAAaJ,iBAAiBI,UAAjB,CAAb;;AAEF,QAAI;AACFE,WAAK,gBAAgBF,UAArB;AACD,KAFD,CAGA,OAAM7C,CAAN,EAAS;AACPI,cAAQwB,KAAR,CAAc5B,CAAd;AACD;AACD,WAAO8C,QAAP;AACD;;AAED;AACA,WAASlC,iBAAT,CAA2BxC,OAA3B,EAAoC4E,aAApC,EAAmDC,UAAnD,EAA+D;AAC7D,QAAI/B,OAAO9C,QAAQsC,OAAR,CAAgBuC,UAAhB,CAAX;AACA,QAAIC,WAAW,CAAf,CAF6D,CAE5C;AACjB,QAAIC,eAAejC,IAAnB;;AAEA;AACA,QAAIkC,cAAchF,QAAQoC,MAAR,CAAe,CAAf,EAAkBE,OAAlB,CAA0BsC,aAA1B,CAAlB;AACA;AACA,QAAGI,cAAc,CAAC,CAAf,IAAoBA,cAAcD,YAArC,EAAmD;AACjDC;AACA;AACA,aAAMF,WAAW,CAAjB,EAAoB;AAClB;AACA,YAAGE,cAAc,CAAC,CAAf,IAAoBA,cAAcD,YAArC,EAAmD;AAAE;AACnDD;AACA;AACA,cAAIG,MAAMjF,QAAQoC,MAAR,CAAe4C,cAAc,CAA7B,EAAgC1C,OAAhC,CAAwCsC,aAAxC,CAAV;AACA,cAAGK,QAAQ,CAAC,CAAZ,EACED,cAAc,CAAC,CAAf,CADF,KAGEA,eAAeC,MAAM,CAArB;AACH,SARD,MASK;AAAE;AACL,cAAIA,OAAMjF,QAAQoC,MAAR,CAAe2C,YAAf,EAA6BzC,OAA7B,CAAqCuC,UAArC,CAAV;AACA,cAAGI,SAAQ,CAAC,CAAZ,EACEF,eAAe,CAAC,CAAhB,CADF,KAGEA,gBAAgBE,OAAM,CAAtB;;AAEFH;AACA,cAAGA,WAAW,CAAX,IAAgBC,iBAAiB,CAAC,CAArC,EACE/C,QAAQwB,KAAR,CAAc,0BAAd,EAA0CxD,OAA1C;AACH;AACF;AACD;AACA8C,aAAOiC,YAAP;AACD;;AAED,QAAGjC,OAAO,CAAC,CAAX,EACEA,QAAQ+B,WAAWxE,MAAnB,CADF,KAGE2B,QAAQwB,KAAR,CAAc,+CAA6CqB,UAA7C,GAAwD,GAAtE;;AAEF,WAAO/B,IAAP;AACD;;AAED;AACA;AACA,WAASoC,YAAT,CAAsBlF,OAAtB,EAA+BmF,GAA/B,EAAoC;AAClC,QAAIC,MAAM,EAAV;AAAA,QACIvC,OAAO,CAAC,CADZ;AAAA,QAEIC,OAAO,CAAC,CAFZ;AAAA,QAGIuC,UAAU,EAHd;AAAA,QAIIT,gBAAgBO,OAAO,OAJ3B;AAAA,QAKIN,aAAa,KALjB;;AAOA;AACAhC,WAAO7C,QAAQsC,OAAR,CAAgBsC,aAAhB,CAAP;AACA,QAAG/B,SAAS,CAAC,CAAb,EACEuC,IAAIvD,IAAJ,CAAS7B,OAAT;;AAEF,WAAM6C,OAAO,CAAC,CAAd,EAAiB;AACfwC,gBAAUrF,QAAQ+C,KAAR,CAAc,CAAd,EAAiBF,IAAjB,CAAV;AACAuC,UAAIvD,IAAJ,CAASwD,OAAT;AACArF,gBAAUA,QAAQ+C,KAAR,CAAcF,IAAd,CAAV;;AAEA;AACA,UAAIC,QAAON,kBAAkBxC,OAAlB,EAA2B4E,aAA3B,EAA0CC,UAA1C,CAAX;;AAEAQ,gBAAUrF,QAAQ+C,KAAR,CAAc,CAAd,EAAiBD,KAAjB,CAAV;AACAsC,UAAIvD,IAAJ,CAASwD,OAAT;AACArF,gBAAUA,QAAQ+C,KAAR,CAAcD,KAAd,CAAV;AACAD,aAAO7C,QAAQsC,OAAR,CAAgBsC,aAAhB,CAAP;;AAEA;AACA,UAAG/B,SAAS,CAAC,CAAb,EACEuC,IAAIvD,IAAJ,CAAS7B,OAAT;AACH;;AAED,WAAOoF,GAAP;AACD;;AAED;AACA,WAASE,uBAAT,CAAiCtF,OAAjC,EAA0CuF,OAA1C,EAAmDC,cAAnD,EAAmE;AACjE,QAAI3C,OAAO,CAAC,CAAZ;AAAA,QACIC,OAAO,CAAC,CADZ;AAAA,QAEII,OAAO,EAFX;AAGIC,YAAQ,EAAR;;AAEJ;AACA,QAAGqC,kBAAkBD,OAArB,EAA8B;AAC5B,UAAIE,OAAOjB,eAAee,OAAf,CAAX;AACAA,gBAAU7B,oBAAoB8B,cAApB,EAAoCC,IAApC,CAAV;AACD;;AAEDzF,cAAU0F,sBAAsB1F,OAAtB,CAAV;;AAEAA,cAAUkF,aAAalF,OAAb,CAAV,CAdiE,CAchC;;AAEjC;AACA,QAAGA,QAAQK,MAAR,GAAiB,CAApB,EAAuB;;AAErB;AACAL,gBAAUA,QAAQ2F,GAAR,CAAY,UAASC,QAAT,EAAmBC,GAAnB,EAAwBT,GAAxB,EAA6B;AAC/C,YAAGQ,SAAStD,OAAT,CAAiB,OAAjB,MAA8B,CAA9B,IACAI,gBAAgB1B,iBAAhB,EAAmC4E,QAAnC,CADA,IAEA,CAAClD,gBAAgB,SAAhB,EAA2BkD,QAA3B,CAFJ,EAGI;AACFA,qBAAWnC,gBAAgB,SAAhB,EAA2BmC,QAA3B,EAAqCL,OAArC,CAAX;AACD;AACD,eAAOK,QAAP;AACD,OARO,CAAV;AAUD;AACD;AACA5F,cAAUA,QAAQ8B,IAAR,CAAa,EAAb,CAAV,CAhCiE,CAgCrC;;AAE5B9B,cAAU8F,wBAAwB9F,OAAxB,CAAV;AACA,WAAOA,OAAP;AACD;;AAED,WAAS0F,qBAAT,CAA+B1F,OAA/B,EAAwC;AACtC,QAAIoF,MAAMF,aAAalF,OAAb,CAAV;AACA,QAAI+F,YAAY,CAAhB;;AAEA/F,cAAUoF,IAAIO,GAAJ,CAAQ,UAACC,QAAD,EAAWC,GAAX,EAAgBT,GAAhB,EAAwB;AACxC,UAAGQ,SAAStD,OAAT,CAAiB,WAAjB,MAAkC,CAArC,EAAwCyD;AACxC,UAAGH,SAAStD,OAAT,CAAiB,cAAjB,MAAqC,CAAxC,EAA2CyD;AAC3C,UAAGH,SAAStD,OAAT,CAAiB,WAAjB,MAAkC,CAAlC,IAAuCyD,YAAY,CAAtD,EACEH,WAAWA,SAASxE,OAAT,CAAiB,WAAjB,EAA8B,YAA9B,CAAX;AACF,aAAOwE,QAAP;AACD,KANS,EAMP9D,IANO,CAMF,EANE,CAAV;AAOA,QAAGiE,YAAY,CAAf,EAAkB/D,QAAQwB,KAAR,CAAc,mDAAd;AAClB,WAAOxD,OAAP;AACD;;AAED,WAAS8F,uBAAT,CAAiC9F,OAAjC,EAA0C;AACxCA,cAAUA,QAAQoB,OAAR,CAAgB,aAAhB,EAA+B,WAA/B,CAAV;AACA,WAAOpB,OAAP;AACD;;AAED;AACA,WAASgG,oBAAT,CAA8BhG,OAA9B,EAAuCwF,cAAvC,EAAuD;AACrD,QAAI3C,OAAO,CAAC,CAAZ;AAAA,QACIC,OAAO,CAAC,CADZ;AAAA,QAEII,OAAO,EAFX;AAGIC,YAAQ,EAAR;;AAEJ;AACA,QAAGqC,mBAAmB,EAAnB,IAAyBA,mBAAmB,MAA/C,EACE,OAAOxF,OAAP;;AAEFA,cAAUkF,aAAalF,OAAb,EAAsB,WAAtB,CAAV,CAVqD,CAUP;;AAE9C;AACA,QAAGA,QAAQK,MAAR,GAAiB,CAApB,EAAuB;;AAErB;AACAL,gBAAUA,QAAQ2F,GAAR,CAAY,UAASC,QAAT,EAAmBC,GAAnB,EAAwBT,GAAxB,EAA6B;AAC/C,YAAGQ,SAAStD,OAAT,CAAiB,WAAjB,MAAkC,CAArC,EAAwC;AACtCO,iBAAO+C,SAAStD,OAAT,CAAoBtB,iBAApB,QAAP;AACA,cAAG6B,OAAO,CAAC,CAAX,EAAc;AACZK,mBAAO0C,SAAS7C,KAAT,CAAe,CAAf,EAAkBF,OAAO,EAAzB,CAAP;AACA+C,uBAAW1C,OAAOsC,cAAP,GAAwB,GAAxB,GAA8BI,SAAS7C,KAAT,CAAeF,OAAO,EAAtB,CAAzC;AACD,WAHD,MAIK;AACHb,oBAAQwB,KAAR,CAAc,2CAAd;AACD;AACF;AACD,eAAOoC,QAAP;AACD,OAZO,CAAV;AAcD;AACD;AACA5F,cAAUA,QAAQ8B,IAAR,CAAa,EAAb,CAAV,CAhCqD,CAgC1B;AAC3B,WAAO9B,OAAP;AACD;;AAED;AACA;AACA,WAASiG,mBAAT,CAA6B3E,IAA7B,EAAmCtB,OAAnC,EAA4C;AAC1C,QAAIwB,MAAM,EAAV;AACAxB,cAAUkF,aAAalF,OAAb,CAAV;;AAEAA,cAAUA,QAAQ2F,GAAR,CAAY,UAASC,QAAT,EAAmB;AACvC,UAAGA,SAAStD,OAAT,CAAiBxB,aAAjB,MAAqC,CAArC,IACA8E,SAAStD,OAAT,CAAiB,WAAjB,MAAqC,CADxC,EAC2C;AACzCd,cAAMoB,gBAAgB7B,iBAAhB,EAAmC6E,QAAnC,CAAN;AACApE,cAAMH,0BAA0BC,IAA1B,EAAgCE,GAAhC,CAAN;AACAoE,mBAAW5C,gBAAgBjC,iBAAhB,EAAmC6E,QAAnC,EAA6CpE,GAA7C,CAAX;AACAoE,mBAAWxC,uBAAuBrC,iBAAvB,EAA0C6E,QAA1C,EAAoD,SAApD,CAAX;AACD;AACD,aAAOA,QAAP;AACD,KATS,CAAV;;AAWA5F,cAAUA,QAAQ8B,IAAR,CAAa,EAAb,CAAV;AACA,WAAO9B,OAAP;AACD;;AAED;AACA,WAASkG,qBAAT,CAA+BC,OAA/B,EAAwCC,QAAxC,EAAkD/D,QAAlD,EAA4D+C,GAA5D,EAAiE;AAC/D,QAAIiB,SAAS,CAAC,CAAd;AACA,QAAIC,YAAY,CAAhB;;AAEA,SAAI,IAAIC,IAAIlE,WAAW,CAAvB,EAA0BkE,IAAInB,IAAI/E,MAAlC,EAA0CkG,GAA1C,EAA+C;AAC7C,UAAGnB,IAAImB,CAAJ,EAAOjE,OAAP,CAAe6D,OAAf,MAA4B,CAA/B,EACEG,YADF,KAEK,IAAGlB,IAAImB,CAAJ,EAAOjE,OAAP,CAAe8D,QAAf,MAA6B,CAAhC,EAAmC;AACtCE;AACA,YAAGA,cAAc,CAAjB,EAAoB;AAClBD,mBAASE,CAAT;AACA;AACD;AACF;AACF;AACD,WAAOF,MAAP;AACD;;AAED;AACA;AACA,WAASG,SAAT,CAAmB5G,IAAnB,EAAyBiG,GAAzB,EAA8BT,GAA9B,EAAmC;AACjC,QAAIiB,SAAS,CAAC,CAAd;AAAA,QACIrG,UAAUoF,IAAIS,GAAJ,CADd;AAAA,QAEIN,UAAU,EAFd;AAAA,QAGI5B,WAAW,EAHf;AAAA,QAIIe,QAJJ;;AAMA,QAAGhC,gBAAgB1B,iBAAhB,EAAmChB,OAAnC,CAAH,EACE2D,WAAWf,gBAAgB5B,iBAAhB,EAAmChB,OAAnC,CAAX;;AAEF,QAAG0C,gBAAgB,SAAhB,EAA2B1C,OAA3B,CAAH,EAAwC;AACtCuF,gBAAU3C,gBAAgB,SAAhB,EAA2B5C,OAA3B,CAAV;AACAuF,gBAAUf,eAAee,OAAf,CAAV;AACD;;AAEDb,eAAWhB,oBAAoBC,QAApB,EAA8B4B,OAA9B,CAAX;;AAEA;AACAH,QAAIS,GAAJ,IAAW,EAAX;;AAEAQ,aAASH,sBAAsB,SAAtB,EAAiC,YAAjC,EAA+CL,GAA/C,EAAoDT,GAApD,CAAT;;AAEA;AACA,QAAGiB,WAAW,CAAC,CAAf,EAAkB;AAChBrE,cAAQwB,KAAR,CAAc,oBAAoB5D,KAAKG,IAAzB,GAAgC,kDAA9C;AACA;AACD;;AAED;AACAqF,QAAIiB,MAAJ,IAAc,EAAd;;AAEA;AACA,QAAG,CAAC1C,QAAJ,EAAc;AACZ3B,cAAQwB,KAAR,CAAc,oBAAoB5D,KAAKG,IAAzB,GAAgC,gCAA9C;AACA;AACD;;AAED,QAAG,OAAO2E,QAAP,KAAqB,WAArB,IAAoCA,YAAY,KAAnD,EAA0D;AACxD,WAAI,IAAI6B,IAAIV,GAAZ,EAAiBU,IAAIF,MAArB,EAA6BE,GAA7B;AACEnB,YAAImB,CAAJ,IAAS,EAAT;AADF;AAED;AACF;;AAED;AACA;AACA,WAASE,WAAT,CAAqB7G,IAArB,EAA2BiG,GAA3B,EAAgCT,GAAhC,EAAqC;AACnC,QAAIiB,SAAS,CAAC,CAAd;AAAA,QACIhE,WAAWwD,MAAM,CADrB;AAAA,QAEI7F,UAAUoF,IAAIS,GAAJ,CAFd;AAAA,QAGItC,SAAS,EAHb;AAAA,QAIII,WAAW,EAJf;AAAA,QAKI4B,UAAU,EALd;AAAA,QAMIb,WAAW,EANf;AAAA,QAOIgC,QAAQ,KAPZ;;AASA;AACA,SAAI,IAAIH,IAAIlE,QAAZ,EAAsBkE,KAAKF,MAA3B,EAAmCE,GAAnC;AACE,UAAGnB,IAAImB,CAAJ,EAAOjE,OAAP,CAAe,WAAf,MAAgC,CAAnC,EACE;AAFJ,KAIA,IAAGI,gBAAgB1B,iBAAhB,EAAmChB,OAAnC,CAAH,EACE2D,WAAWf,gBAAgB5B,iBAAhB,EAAmChB,OAAnC,CAAX;;AAEF,QAAG0C,gBAAgB,SAAhB,EAA2B1C,OAA3B,CAAH,EAAwC;AACtCuF,gBAAU3C,gBAAgB,SAAhB,EAA2B5C,OAA3B,CAAV;AACAuF,gBAAUf,eAAee,OAAf,CAAV;AACD;AACD,QAAG5B,QAAH,EACEe,WAAWhB,oBAAoBC,QAApB,EAA8B4B,OAA9B,CAAX;AACF,QAAG7C,gBAAgB,OAAhB,EAAyB1C,OAAzB,CAAH,EACE0G,QAAQC,SAAS/D,gBAAgB,OAAhB,EAAyB5C,OAAzB,CAAT,EAA4C,EAA5C,CAAR;;AAEF,QAAGmE,MAAMC,OAAN,CAAcM,QAAd,CAAH,EAA4B;AAC1B,UAAG,CAACgC,KAAJ,EACEA,QAAQhC,SAASrE,MAAjB,CADF,KAEK,IAAGqG,QAAQhC,SAASrE,MAApB,EAA4B;AAC/B2B,gBAAQS,IAAR,CAAa,sBAAsB7C,KAAKG,IAA3B,GAAkC,oGAA/C;AACA2G,gBAAQhC,SAASrE,MAAjB;AACD;AACF;;AAED,QAAG,CAACqG,KAAD,IAAU,CAAC/C,QAAd,EAAwB;AACtB3B,cAAQwB,KAAR,CAAc,oBAAoB5D,KAAKG,IAAzB,GAAgC,uEAA9C;AACA;AACD;;AAEDsG,aAASH,sBAAsB,WAAtB,EAAmC,cAAnC,EAAmDL,GAAnD,EAAwDT,GAAxD,CAAT;;AAEA;AACA,QAAGiB,WAAW,CAAC,CAAf,EAAkB;AAChBrE,cAAQwB,KAAR,CAAc,oBAAoB5D,KAAKG,IAAzB,GAAgC,0CAA9C;AACA;AACD;;AAED,QAAGsG,WAAYR,MAAM,CAArB,EACE7D,QAAQS,IAAR,CAAa,sBAAsB7C,KAAKG,IAA3B,GAAkC,iCAA/C;;AAEF;AACAqF,QAAIS,GAAJ,IAAW,EAAX;AACAT,QAAIiB,MAAJ,IAAc,EAAd;;AAEA9C,aAAS6B,IAAIwB,MAAJ,CAAWvE,QAAX,EAAqBgE,SAAShE,QAA9B,CAAT;;AAEArC,cAAU,EAAV;;AAEA;AACA,SAAI,IAAIuG,KAAI,CAAZ,EAAeA,KAAIG,KAAnB,EAA0BH,IAA1B,EAA+B;AAC7B,UAAItB,mCAAW1B,MAAX,EAAJ,CAD6B,CACJ;;AAEzB;AACA,UAAGmB,YAAYP,MAAMC,OAAN,CAAcM,QAAd,CAAf,EAAwC;AACtC,aAAI,IAAImC,IAAI,CAAZ,EAAeA,IAAI5B,IAAI5E,MAAvB,EAA+BwG,GAA/B,EAAoC;AAClC,cAAG5B,IAAI4B,CAAJ,EAAOvE,OAAP,CAAe,WAAf,MAAkC,CAAlC,IAAuC,CAACI,gBAAgB,SAAhB,EAA2BuC,IAAI4B,CAAJ,CAA3B,CAA3C,EAA+E;AAC7E,gBAAG1C,MAAMC,OAAN,CAAcM,QAAd,CAAH,EAA4B;AAC1BO,kBAAI4B,CAAJ,IAASpD,gBAAgB,SAAhB,EAA2BwB,IAAI4B,CAAJ,CAA3B,EAAmCxC,iBAAiBK,SAAS6B,EAAT,CAAjB,CAAnC,CAAT;AACD;AACD,gBAAG,QAAO7B,SAAS6B,EAAT,CAAP,MAAwB,QAA3B,EAAqC;AACnCtB,kBAAI4B,CAAJ,IAASpD,gBAAgB,SAAhB,EAA2BwB,IAAI4B,CAAJ,CAA3B,EAAmCxC,iBAAiBK,SAAS6B,EAAT,CAAjB,CAAnC,CAAT;AACD,aAFD,MAGK;AACHtB,kBAAI4B,CAAJ,IAAS,KAAKnC,SAAS6B,EAAT,CAAd;AACD;AACF;AACD,cAAG,CAACtB,IAAI4B,CAAJ,EAAOvE,OAAP,CAAe,WAAf,MAAkC,CAAlC,IACA2C,IAAI4B,CAAJ,EAAOvE,OAAP,CAAe,aAAf,MAAkC,CADnC,KAEA,CAACI,gBAAgB,SAAhB,EAA2BuC,IAAI4B,CAAJ,CAA3B,CAFD,IAGA,QAAOnC,SAAS6B,EAAT,CAAP,MAAwB,QAH3B,EAIE;AACAtB,gBAAI4B,CAAJ,IAASpD,gBAAgB,SAAhB,EAA2BwB,IAAI4B,CAAJ,CAA3B,EAAmCxC,iBAAiBK,SAAS6B,EAAT,CAAjB,CAAnC,CAAT;AACD;AACF;AACF;;AAED;AACAvG,gBAAUA,QAAQ8G,MAAR,CAAe7B,GAAf,CAAV;AACD;;AAEDG,QAAIwB,MAAJ,CAAWG,KAAX,CAAiB3B,GAAjB,EAAsB,CAAC/C,QAAD,EAAW,CAAX,EAAcyE,MAAd,CAAqB9G,OAArB,CAAtB;AACD;;AAED;AACA;AACA;AACA,WAASgH,YAAT,CAAsBpH,IAAtB,EAA4BiG,GAA5B,EAAiCT,GAAjC,EAAsC;AACpC,QAAIiB,SAAS,CAAC,CAAd;AAAA,QACIY,QAAQ,EADZ;AAAA,QAEIjH,UAAUoF,IAAIS,GAAJ,CAFd;AAAA,QAGIqB,WAAW,EAHf;AAAA,QAII3B,UAAU,EAJd;AAAA,QAKIC,iBAAiB,EALrB;AAAA,QAMI2B,cAAc,QANlB;AAAA,QAOIC,iBAAiB,WAPrB;AAQIC,cAAWrH,QAAQsC,OAAR,CAAgB6E,WAAhB,IAA+B,CAAC,CAAjC,GAAsCA,WAAtC,GAAoDC,cAA9D,EACAE,UAAWD,YAAYF,WAAb,GAA4B,MAA5B,GAAqC,SAD/C;;AAGJ;AACA,QAAGzE,gBAAgB1B,iBAAhB,EAAmChB,OAAnC,CAAH,EACEwF,iBAAiB5C,gBAAgB5B,iBAAhB,EAAmChB,OAAnC,CAAjB;;AAEF;AACA,QAAG0C,gBAAgB,SAAhB,EAA2B1C,OAA3B,CAAH,EACEuF,UAAU3C,gBAAgB,SAAhB,EAA2B5C,OAA3B,CAAV;;AAEF;AACAkH,eAAYG,YAAYF,WAAb,GACPvE,gBAAgB7B,iBAAhB,EAAmCqE,IAAIS,GAAJ,CAAnC,CADO,GAEPjD,gBAAgB,SAAhB,EAA2BwC,IAAIS,GAAJ,CAA3B,CAFJ;;AAIA;AACAoB,YAASI,YAAYF,WAAb,GACJ9F,0BAA0BzB,KAAKG,IAA/B,EAAqCmH,QAArC,CADI,GAEJA,QAFJ;;AAIA;AACAb,aAASH,sBAAsB,WAAtB,EAAmC,cAAnC,EAAmDL,GAAnD,EAAwDT,GAAxD,CAAT;;AAEA;AACA,QAAGiB,WAAW,CAAC,CAAf,EAAkB;AAChBrE,cAAQwB,KAAR,CAAc,oBAAoB5D,KAAKG,IAAzB,GAAgC,sDAA9C;AACA,aAAO,EAAP;AACD;;AAED;AACA,QAAGW,UAAUuG,KAAV,CAAH,EAAqB;AACnBjH,gBAAUU,UAAUuG,KAAV,EAAiBjH,OAAjB,CAAyBI,KAAzB,CAA+B,mBAA/B,CAAV;AACA,UAAGJ,QAAQK,MAAR,KAAmB,CAAtB,EAAyB;AACvB2B,gBAAQwB,KAAR,CAAc,oBAAoB5D,KAAKG,IAAzB,GAAgC,wEAA9C;AACA,eAAO,EAAP;AACD;AACF,KAND,MAOK;AACHiC,cAAQwB,KAAR,CAAc,oBAAoB5D,KAAKG,IAAzB,GAAgC,6BAAhC,GAAgEmH,QAAhE,GAA2E,GAAzF;AACA,aAAO,EAAP;AACD;;AAED,QAAG3B,OAAH,EAAY;AACVvF,cAAQ,CAAR,IAAasF,wBAAwBtF,QAAQ,CAAR,CAAxB,EAAoCuF,OAApC,EAA6CC,cAA7C,CAAb;AACAxF,cAAQ,CAAR,IAAasF,wBAAwBtF,QAAQ,CAAR,CAAxB,EAAoCuF,OAApC,EAA6CC,cAA7C,CAAb;AACD,KAHD,MAIK,IAAGA,cAAH,EAAmB;AACtBxF,cAAQ,CAAR,IAAagG,qBAAqBhG,QAAQ,CAAR,CAArB,EAAiCwF,cAAjC,CAAb;AACAxF,cAAQ,CAAR,IAAagG,qBAAqBhG,QAAQ,CAAR,CAArB,EAAiCwF,cAAjC,CAAb;AACD;;AAED,QAAG5F,KAAK2H,OAAR,EAAiB;AACfvH,cAAQ,CAAR,IAAaiG,oBAAoBrG,KAAK2H,OAAzB,EAAkCvH,QAAQ,CAAR,CAAlC,CAAb;AACAA,cAAQ,CAAR,IAAaiG,oBAAoBrG,KAAK2H,OAAzB,EAAkCvH,QAAQ,CAAR,CAAlC,CAAb;AACD;;AAEDoF,QAAIS,GAAJ,IAAW7F,QAAQ,CAAR,CAAX;AACAoF,QAAIiB,MAAJ,IAAcrG,QAAQ,CAAR,CAAd;AACD;;AAED;AACA,WAASwH,cAAT,CAAwB5H,IAAxB,EAA8B;AAC5B,QAAIsH,WAAW,EAAf;AAAA,QACI3B,UAAU,EADd;AAAA,QAEI5B,WAAW,EAFf;AAAA,QAGI6B,iBAAiB,EAHrB;AAAA,QAIIxF,UAAWJ,KAAKI,OAJpB;;AAMA,QAAG0C,gBAAgB1B,iBAAhB,EAAmChB,OAAnC,CAAH,EACEwF,iBAAiB5C,gBAAgB5B,iBAAhB,EAAmChB,OAAnC,CAAjB;;AAEF,QAAG0C,gBAAgB,SAAhB,EAA2B1C,OAA3B,CAAH,EACEuF,UAAU3C,gBAAgB,SAAhB,EAA2B5C,OAA3B,CAAV;;AAEF,QAAG0C,gBAAgB3B,iBAAhB,EAAmCf,OAAnC,CAAH,EAAgD;AAC9CkH,iBAAWtE,gBAAgB7B,iBAAhB,EAAmCf,OAAnC,CAAX;AACAkH,iBAAW7F,0BAA0BzB,KAAKG,IAA/B,EAAqCmH,QAArC,CAAX;AACD,KAHD,MAIK,IAAGxE,gBAAgB,SAAhB,EAA2B1C,OAA3B,CAAH,EACHkH,WAAWtE,gBAAgB,SAAhB,EAA2B5C,OAA3B,CAAX;;AAEF,QAAGW,YAAYuG,QAAZ,CAAH,EACElH,UAAUW,YAAYuG,QAAZ,EAAsBlH,OAAhC,CADF,KAEK;AACHgC,cAAQwB,KAAR,CAAc,oBAAoB5D,KAAKG,IAAzB,GAAgC,iBAAhC,GAAoDmH,QAApD,GAA+D,kBAA7E;AACA,aAAO,EAAP;AACD;;AAED,QAAG3B,OAAH,EACEvF,UAAUsF,wBAAwBtF,OAAxB,EAAiCuF,OAAjC,CAAV,CADF,KAEK,IAAGC,cAAH,EACHxF,UAAUgG,qBAAqBhG,OAArB,EAA8BwF,cAA9B,CAAV;;AAEF,QAAG5F,KAAK2H,OAAR,EACEvH,UAAUiG,oBAAoBrG,KAAK2H,OAAzB,EAAkCvH,OAAlC,CAAV;;AAEF,WAAOA,OAAP;AACD;;AAED;AACA,WAASyH,eAAT,CAAyBtC,GAAzB,EAA8B;AAC5B,QAAIxB,WAAW,EAAf;AAAA,QACI4B,UAAU,EADd;AAAA,QAEImC,eAAe,EAFnB;AAAA,QAGIhD,WAAW,EAHf;;AAKAf,eAAWf,gBAAgB5B,iBAAhB,EAAmCmE,GAAnC,CAAX;;AAEA,QAAGzC,gBAAgB,SAAhB,EAA2ByC,GAA3B,CAAH,EACEuC,eAAe9E,gBAAgB,SAAhB,EAA2BuC,GAA3B,CAAf;;AAEF,QAAGzC,gBAAgB,SAAhB,EAA2ByC,GAA3B,CAAH,EAAoC;AAClCI,gBAAU3C,gBAAgB,SAAhB,EAA2BuC,GAA3B,CAAV;AACAI,gBAAUf,eAAee,OAAf,CAAV;AACD;;AAEDb,eAAWhB,oBAAoBC,QAApB,EAA8B4B,OAA9B,CAAX;;AAEA,WAAOb,YAAYgD,YAAnB;AACD;;AAED;AACA,WAASC,iBAAT,CAA2BxC,GAA3B,EAAgC;AAC9B,QAAIxB,WAAW,EAAf;AAAA,QACI4B,UAAW,EADf;AAAA,QAEImC,eAAe,EAFnB;AAAA,QAGIhD,WAAW,EAHf;;AAKAf,eAAWf,gBAAgB5B,iBAAhB,EAAmCmE,GAAnC,CAAX;;AAEA,QAAGzC,gBAAgB,SAAhB,EAA2ByC,GAA3B,CAAH,EACEuC,eAAe9E,gBAAgB,SAAhB,EAA2BuC,GAA3B,CAAf;;AAEFT,eAAWhB,oBAAoBC,QAApB,CAAX;;AAEA,QAAGe,YAAYgD,YAAf,EACE,OAAOhD,YAAYgD,YAAnB,CADF,KAEK;AACH1F,cAAQ4F,OAAR,CAAgB,sBAAsBjE,QAAtB,GAAiC,sCAAjD;AACA,aAAO,EAAP;AACD;AACF;;AAED,WAASkE,cAAT,CAAwB7H,OAAxB,EAAiCD,IAAjC,EAAuC;AACrC,QAAI+H,YAAY/H,IAAhB;AACA,QAAIgI,gBAAgB,EAApB;AACA,QAAIC,WAAW,EAAf;AACA,QAAIC,aAAa,CAAjB;;AAEA;AACAD,eAAW9C,aAAalF,OAAb,CAAX,CAPqC,CAOH;;AAElC;AACA,WAAMgI,SAAS3H,MAAT,GAAkB,CAAxB,EAA2B;AACzByH,kBAAY/H,IAAZ;;AAEA;AACA,WAAI,IAAIwG,IAAI,CAAZ,EAAeA,IAAIyB,SAAS3H,MAA5B,EAAoCkG,GAApC,EAAyC;AACvC,YAAIX,WAAWoC,SAASzB,CAAT,CAAf;;AAEA,YAAGX,SAAStD,OAAT,CAAiB,OAAjB,MAA8B,CAAjC,EAAoC;AAClC;AACAsD,qBAAW,MAAMiC,eAAejC,SAASxD,MAAT,CAAgB,CAAhB,CAAf,EAAmCrC,IAAnC,CAAjB;;AAEA,cAAImI,UAAUxF,gBAAgB3B,iBAAhB,EAAmC6E,QAAnC,CAAd;AACA,cAAIuC,aAAazF,gBAAgB,SAAhB,EAA2BkD,QAA3B,CAAjB;;AAEA,cAAGsC,OAAH,EACEH,gBAAgB1G,0BAA0ByG,SAA1B,EAAqClF,gBAAgB7B,iBAAhB,EAAmC6E,QAAnC,CAArC,CAAhB,CADF,KAEK,IAAGuC,UAAH,EAAe;AAClBJ,4BAAgBnF,gBAAgB,SAAhB,EAA2BgD,QAA3B,CAAhB;AACAkC,wBAAWC,aAAX;AACD;;AAED,cAAGnC,SAAStD,OAAT,CAAiB,SAAjB,MAAgC,CAAnC,EAAsC;AACpCkE,sBAAU,EAAE4B,KAAK,SAAP,EAAkBpI,SAAS4F,QAA3B,EAAqC7F,MAAM+H,SAA3C,EAAsDP,SAASQ,aAA/D,EAAV,EAA2FxB,CAA3F,EAA8FyB,QAA9F;AACD,WAFD,MAGK,IAAGpC,SAAStD,OAAT,CAAiB,WAAjB,MAAkC,CAArC,EAAwC;AAC3CmE,wBAAY,EAAE2B,KAAK,SAAP,EAAkBpI,SAAS4F,QAA3B,EAAqC7F,MAAM+H,SAA3C,EAAsDP,SAASQ,aAA/D,EAAZ,EAA6FxB,CAA7F,EAAgGyB,QAAhG;AACD,WAFI,MAGA,IAAGpC,SAAStD,OAAT,CAAiB,WAAjB,MAAkC,CAArC,EAAwC;AAC3C0E,yBAAa,EAAEoB,KAAK,SAAP,EAAkBpI,SAAS4F,QAA3B,EAAqC7F,MAAM+H,SAA3C,EAAsDP,SAASQ,aAA/D,EAAb,EAA8FxB,CAA9F,EAAiGyB,QAAjG;AACD,WAFI,MAGA,IAAGpC,SAAStD,OAAT,CAAiBxB,aAAjB,MAAoC,CAAvC,EAA0C;AAC7CkH,qBAASzB,CAAT,IAAciB,eAAe,EAAEY,KAAK,SAAP,EAAkBpI,SAAS4F,QAA3B,EAAqC7F,MAAM+H,SAA3C,EAAsDP,SAASQ,aAA/D,EAAf,CAAd;AACD,WAFI,MAGA,IAAGnC,SAAStD,OAAT,CAAiB,WAAjB,MAAkC,CAArC,EAAwC;AAC3C0F,qBAASzB,CAAT,IAAckB,gBAAgB7B,QAAhB,CAAd;AACD,WAFI,MAGA,IAAGA,SAAStD,OAAT,CAAiB,iBAAjB,MAAwC,CAA3C,EAA8C;AACjD0F,qBAASzB,CAAT,IAAcoB,kBAAkB/B,QAAlB,CAAd;AACD;;AAEDkC,sBAAY/H,IAAZ;AACD;AACF;;AAED;AACAC,gBAAUgI,SAASlG,IAAT,CAAc,EAAd,CAAV,CA7CyB,CA6CG;;AAE5B;AACAkG,iBAAW9C,aAAalF,OAAb,CAAX,CAhDyB,CAgDS;;AAElC;AACA,UAAGkB,WAAWmH,eAAd,EACErG,QAAQC,GAAR,CAAYjC,OAAZ;;AAEF,UAAGkB,WAAWoH,eAAd,EAA+B;AAC7BL;AACA,YAAGA,cAAc/G,WAAWoH,eAA5B,EACE;AACH;AACF;;AAED,QAAGpH,WAAWqH,WAAd,EACEvG,QAAQC,GAAR,CAAYjC,OAAZ;;AAEF,WAAOA,OAAP;AACD;;AAED;AACA;AACA;AACA;AACA;AACA,WAASwI,WAAT,CAAqB5I,IAArB,EAA2B;AACzB,QAAIqF,GAAJ;;AAEA,QAAGrF,KAAKI,OAAL,CAAasC,OAAb,CAAqB,iBAArB,IAA0C,CAAC,CAA9C,EAAiD;;AAE/C1C,WAAKI,OAAL,GAAeJ,KAAKI,OAAL,CACNI,KADM,CACA,uBADA,EAENwG,MAFM,CAEC,CAFD,EAEI,CAFJ,EAGNxG,KAHM,CAGA,gBAHA,EAINwG,MAJM,CAIC,CAJD,EAIG,CAJH,EAIM,CAJN,CAAf;AAKD;;AAED,QAAGhH,KAAKI,OAAL,CAAasC,OAAb,CAAqB,kBAArB,IAA2C,CAAC,CAA/C,EAAkD;;AAEhD2C,YAAMrF,KAAKI,OAAL,CACDI,KADC,CACK,wBADL,CAAN;;AAGAR,WAAKI,OAAL,GAAeiF,IAAI,CAAJ,IAASA,IAAI,CAAJ,EAAO7E,KAAP,CAAa,2BAAb,EAA0C,CAA1C,CAAxB;AACD;AACF;;AAEDK,WAASgI,UAAT,GAAsB,SAASA,UAAT,CAAoBC,GAApB,EAAyB;AAC7C;AACAhI,gBAAY,EAAZ;AACAC,kBAAc,EAAd;AACAC,gBAAY,EAAZ;AACAM,iBAAawH,IAAIC,GAAJ,IAAW,EAAxB;AACA1H,cAAUyH,GAAV;;AAEA;AACA5H,oBAAiBG,QAAQH,aAAT,GACZ,UAAUG,QAAQH,aADN,GAEZ,aAFJ;;AAIAC,wBAAqBE,QAAQF,iBAAT,GAChBE,QAAQF,iBADQ,GAEhB,MAFJ;;AAIAC,wBAAqBC,QAAQD,iBAAT,GAChBC,QAAQD,iBADQ,GAEhB,UAFJ;AAGD,GApBD;;AAsBA;AACAP,WAASmI,eAAT,GAA2B,SAASA,eAAT,CAAyBC,QAAzB,EAAmC;;AAE5D,WAAOjI,UAAU+E,GAAV,CAAc,UAAS/F,IAAT,EAAe;AAClCA,WAAKI,OAAL,GAAe6H,eAAejI,KAAKI,OAApB,EAA6BJ,KAAKG,IAAlC,CAAf;AACAH,WAAKO,SAAL,GAAiB,IAAjB;;AAEA,UAAG0I,QAAH,EAAa;AACXA,iBAASjJ,IAAT;AACD;;AAED,aAAOA,IAAP;AACD,KATM,CAAP;AAUD,GAZD;;AAcA;AACAa,WAASqI,QAAT,GAAoB,SAASA,QAAT,CAAkBlJ,IAAlB,EAAwB;AAC1C,QAAIC,IAAIF,KAAKC,IAAL,CAAR;;AAEA4I,gBAAY3I,CAAZ;;AAEA,QAAGA,EAAEC,IAAF,CAAO,CAAP,MAAc,GAAjB,EACEY,UAAUb,EAAEE,IAAZ,IAAoBF,CAApB,CADF,KAEK,IAAGA,EAAEC,IAAF,CAAO,CAAP,MAAc,GAAjB,EACHa,YAAYd,EAAEE,IAAd,IAAsBF,CAAtB,CADG,KAGHe,UAAUiB,IAAV,CAAehC,CAAf;AACH,GAXD;;AAaA,SAAOY,QAAP;AACD,CA12BgB,EAAjB,C;;;;;;;ACjBA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU","file":"htmlincluder.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 32dd8476bce3abf3d592","var isWin = /^win/.test(process.platform);\n\nfunction File(file) {\n  var f = {\n    name : '',\n    path : file.path,\n    content : file.contents.toString('utf8'),\n    processed : false,\n    file : file\n  };\n\n  f.name = (isWin) ? file.path.split('\\\\') : file.path.split('/');\n  f.name = f.name[f.name.length-1];\n\n  return f;\n}\n\nmodule.exports = (function htmlIncluder() {\n  var includer = {},\n      wrapFiles = {},\n      insertFiles = {},\n      pageFiles = [],\n      pageTree = [],\n      insertPattern,\n      filePathAttribute,\n      jsonPathAttribute,\n      options,\n      devOptions;\n\n  // overcome the difference in *nix/windows pathing\n  function fixFilePathForOS(path) {\n    return (isWin) ? path.replace(/\\//g, '\\\\') : path.replace(/\\\\/g, '/');\n  }\n\n  // given the current directory and a relative path, build the complete path\n  // to the relative path\n  function buildPathFromRelativePath(cdir, fdir) {\n    var dir,\n        dirChar = (isWin) ? '\\\\' : '/';\n\n    dir = cdir.split(dirChar);\n\n    fdir = fixFilePathForOS(fdir);\n    dir.pop();\n\n    fdir.split(dirChar)\n      .forEach(function(e) {\n        (e === '..') ? dir.pop() : (e !== '.' && e !== '') ? dir.push(e) : void 0;\n      });\n    dir = dir.join(dirChar);\n    if(devOptions.printPaths) {\n      console.log(\"********buildPathFromRelativePath********\")\n      console.log(\"cdir  : \", cdir)\n      console.log(\"fdir  : \", fdir)\n      console.log(\"result: \", dir)\n      console.log(\"********end buildPathFromRelativePath********\")\n    }\n    return dir;\n  }\n\n  function stripInnerTags(content) {\n    // tmpContent = '!-- ... --';\n    let tmpContent = content.substr(0, content.length - 1).substr(1);\n\n    let startNdx = tmpContent.indexOf('<!--#');\n\n    if(startNdx === -1)\n      return content;\n\n    while(startNdx !== -1) {\n      let closeNdx = parseToClosingTag(tmpContent.substr(startNdx), '<!--#', '-->');\n      if(closeNdx > -1) {\n        tmpContent = tmpContent.substr(0, startNdx) + tmpContent.substr(closeNdx);\n        startNdx = startNdx = tmpContent.indexOf('<!--#');\n      }\n      else {\n        console.warn('stripInnerTags - No closing tag');\n        break;\n      }\n    }\n\n    return '<' + tmpContent + '>';\n  }\n\n  // does a tag have an attribute? (attributeName=\"value\")\n  function hasTagAttribute(attr, content) {\n    // strip out inner tags\n    // check attribute existence\n    return content.indexOf(attr + '=\"') > -1;\n  }\n\n  // get the value of an attribute (attributeName=\"value\")\n  function getTagAttribute(attr, content) {\n    var fndx = -1,\n        lndx = -1;\n\n    fndx = content.indexOf(attr + '=\"');\n    if(fndx === -1) {\n      console.warn(\"Warning: no tag of name `\" + attr + \"` found in the following content: `\" + content + \"`\")\n      return \"\";\n    }\n\n    content = content.slice(fndx + attr.length + 2);\n    lndx = content.indexOf('\"');\n    content = content.slice(0, lndx);\n    return content;\n  }\n\n  // set the value of an attribute (attributeName=\"value\")\n  function setTagAttribute(attr, content, value) {\n    var fndx = -1,\n        lndx = -1\n        left = \"\"\n        right = \"\";\n\n    fndx = content.indexOf(attr + '=\"');\n    left = content.slice(0, fndx + attr.length + 2);\n    content = content.slice(fndx + attr.length + 2);\n    lndx = content.indexOf('\"');\n    right = content.slice(lndx);\n    content = left + value + right;\n    return content;\n  }\n\n  // rename one attribute name to another (attributeName=\"value\")\n  function changeTagAttributeName(attr, content, newAttr) {\n    var fndx = -1,\n        lndx = -1\n        left = \"\"\n        right = \"\";\n\n    fndx = content.indexOf(attr + '=\"');\n    left = content.slice(0, fndx);\n    right = content.slice(fndx + attr.length);\n    return left + newAttr + right;\n  }\n\n  // removes an attribute from a tag along with its value (attributeName=\"value\")\n  function removeTagAttribute(attr, content) {\n    var fndx = -1,\n        lndx = -1,\n        left = \"\",\n        right = \"\",\n        middle = content;\n\n    if(hasTagAttribute(attr, middle)) {\n      fndx = middle.indexOf(attr + '=\"');\n      left = middle.slice(0, fndx);\n      right = middle.slice(fndx + attr.length + 2);\n      // really naive for now - just look for another '\"'\n      lndx = right.indexOf('\"');\n      if(lndx === -1) {\n        console.error('ERROR: No close `\"` in tag ' + content)\n        return content;\n      }\n      else {\n        right = right.slice(lndx + 1);\n        middle = \"\";\n      }\n    }\n    return left + middle + right;\n  }\n\n  // adds an attribute from a tag along with a value (attributeName=\"value\")\n  function addTagAttribute(attr, content, value) {\n    var fndx = -1,\n        lndx = -1,\n        left = \"\",\n        right = \"\",\n        middle = content;\n\n    lndx = middle.indexOf(\" \");\n    if(lndx > -1) {\n      left = middle.slice(0, lndx);\n      right = middle.slice(lndx);\n      middle = ` ${attr}=\"${value}\"`;\n    }\n\n    return left + middle + right;\n  }\n\n  // given a jsonObject and a path, return the data pointed at\n  function getDataFromJsonPath(jsonPath, jsonObj) {\n    var json = jsonObj || options.jsonInput;\n    var result;\n\n    if(jsonPath === '*') return options.jsonInput;\n    if(jsonPath === 'this') return json;\n    result = jsonPath.split('.').reduce((acc, cur) => acc ? acc[cur] : '', json)\n\n    if(Array.isArray(result));\n    else if(typeof(result) === 'object')\n      result = toSafeJsonString(result);\n\n\n    return result;\n  }\n\n  // given a jsonObj, we can convert it to a string for our purposes\n  function toSafeJsonString(jsonObj) {\n    return JSON.stringify(jsonObj).replace(/\\'/g, \"\\\\'\").replace(/\"/g, \"'\")\n  }\n\n  // Handles the string value inside of rawJson=\"\" attributes\n  function processRawJson(jsonString) {\n    var jsonData = {};\n\n    if(typeof(jsonString) === 'object')\n      jsonString = toSafeJsonString(jsonString);\n\n    try {\n      eval('jsonData = ' + jsonString);\n    }\n    catch(e) {\n      console.error(e);\n    }\n    return jsonData;\n  }\n\n  // Given some content (starting with a tag) find the index after the end tag\n  function parseToClosingTag(content, searchPattern, endPattern) {\n    let lndx = content.indexOf(endPattern);\n    let tagDepth = 1;// when this gets to 0 we are done\n    let nextCloseNdx = lndx;\n\n    // prime loop by finding next start tag\n    let nextOpenNdx = content.substr(1).indexOf(searchPattern);\n    // make sure that it is necessary to look for internal tags\n    if(nextOpenNdx > -1 && nextOpenNdx < nextCloseNdx) {\n      nextOpenNdx++;\n      // while current tag is not closed...\n      while(tagDepth > 0) {\n        // start tag is before current close tag\n        if(nextOpenNdx > -1 && nextOpenNdx < nextCloseNdx) { // Then we need to find the next lndx\n          tagDepth++;\n          // find an open tag between 0 and lndx\n          let tmp = content.substr(nextOpenNdx + 1).indexOf(searchPattern);\n          if(tmp === -1)\n            nextOpenNdx = -1;\n          else\n            nextOpenNdx += tmp + 1;\n        }\n        else { // current close tag is before start tag\n          let tmp = content.substr(nextCloseNdx).indexOf(endPattern);\n          if(tmp === -1)\n            nextCloseNdx = -1;\n          else\n            nextCloseNdx += tmp + 1;\n\n          tagDepth--;\n          if(tagDepth > 0 && nextCloseNdx === -1)\n            console.error('There is an unclosed tag', content);\n        }\n      }\n      // should be the ndx of the last closing tag related to the current tag we are parsing\n      lndx = nextCloseNdx;\n    }\n\n    if(lndx > -1)\n      lndx += endPattern.length;\n    else\n      console.error(\"ERROR: no closing tag! you are missing a '\"+endPattern+\"'\");\n\n    return lndx\n  }\n\n  // Splits a string into an array where special tags are on their own\n  // can optionally only split it up based on a particular tag\n  function splitContent(content, tag) {\n    let arr = [],\n        fndx = -1,\n        lndx = -1,\n        partial = \"\",\n        searchPattern = tag || '<!--#',\n        endPattern = '-->';\n\n    //prime the loop\n    fndx = content.indexOf(searchPattern);\n    if(fndx === -1)\n      arr.push(content);\n\n    while(fndx > -1) {\n      partial = content.slice(0, fndx);\n      arr.push(partial);\n      content = content.slice(fndx);\n\n      // get the lndx despite inner open tags like <!-- <!-- --> -->\n      let lndx = parseToClosingTag(content, searchPattern, endPattern);\n\n      partial = content.slice(0, lndx);\n      arr.push(partial);\n      content = content.slice(lndx);\n      fndx = content.indexOf(searchPattern);\n\n      // on final pass, push the remainer of the content string\n      if(fndx === -1)\n        arr.push(content);\n    }\n\n    return arr;\n  }\n\n  // splits up content into tags and puts rawJson in (if there isn't already a rawJson)\n  function addRawJsonWhereJsonPath(content, rawJson, jsonParentPath) {\n    var fndx = -1,\n        lndx = -1,\n        left = \"\"\n        right = \"\";\n\n    // if we have a parent path, then we need to grab a subset of the rawJson\n    if(jsonParentPath && rawJson) {\n      let data = processRawJson(rawJson);\n      rawJson = getDataFromJsonPath(jsonParentPath, data);\n    }\n\n    content = bluntDataTagsInEaches(content);\n\n    content = splitContent(content); // '' => ['']\n\n    // if we have an array larger than 1, then there is at least 1 insert to be made\n    if(content.length > 1) {\n\n      // process files\n      content = content.map(function(fragment, ndx, arr) {\n          if(fragment.indexOf('<!--#') === 0 &&\n             hasTagAttribute(jsonPathAttribute, fragment) &&\n             !hasTagAttribute(\"rawJson\", fragment)\n            ) {\n            fragment = addTagAttribute(\"rawJson\", fragment, rawJson);\n          }\n          return fragment;\n        })\n\n    }\n    // re-join content into a string\n    content = content.join(''); // [''] => ''\n\n    content = unbluntDataTagsInEaches(content);\n    return content;\n  }\n\n  function bluntDataTagsInEaches(content) {\n    let arr = splitContent(content);\n    let eachLevel = 0;\n\n    content = arr.map((fragment, ndx, arr) => {\n      if(fragment.indexOf('<!--#each') === 0) eachLevel++;\n      if(fragment.indexOf('<!--#endeach') === 0) eachLevel--;\n      if(fragment.indexOf('<!--#data') === 0 && eachLevel > 0)\n        fragment = fragment.replace('<!--#data', '<!--@#data');\n      return fragment;\n    }).join('')\n    if(eachLevel > 0) console.error('Error: Mismatched number of each and endeach tags')\n    return content;\n  }\n\n  function unbluntDataTagsInEaches(content) {\n    content = content.replace(/<!--@#data/g, '<!--#data');\n    return content;\n  }\n\n  // add json paths together\n  function appendJsonParentPath(content, jsonParentPath) {\n    var fndx = -1,\n        lndx = -1,\n        left = \"\"\n        right = \"\";\n\n    // do nothing if there is no jsonParentPath\n    if(jsonParentPath === '' || jsonParentPath === 'this')\n      return content;\n\n    content = splitContent(content, '<!--#data'); // '' => ['']\n\n    // if we have an array larger than 1, then there is at least 1 insert to be made\n    if(content.length > 1) {\n\n      // process files\n      content = content.map(function(fragment, ndx, arr) {\n          if(fragment.indexOf('<!--#data') === 0) {\n            fndx = fragment.indexOf(`${jsonPathAttribute}=\"`)\n            if(fndx > -1) {\n              left = fragment.slice(0, fndx + 10);\n              fragment = left + jsonParentPath + '.' + fragment.slice(fndx + 10);\n            }\n            else {\n              console.error(\"ERROR: '<!--#data' tag with no 'jsonPath'\");\n            }\n          }\n          return fragment;\n        })\n\n    }\n    // re-join content into a string\n    content = content.join('') // [''] => ''\n    return content;\n  }\n\n  // Updates the relative path with the parent's path so it can be resolved on the\n  // next turn\n  function updateRelativePaths(cdir, content) {\n    var dir = \"\";\n    content = splitContent(content);\n\n    content = content.map(function(fragment) {\n      if(fragment.indexOf(insertPattern)  === 0 ||\n         fragment.indexOf('<!--#wrap')    === 0) {\n        dir = getTagAttribute(filePathAttribute, fragment);\n        dir = buildPathFromRelativePath(cdir, dir);\n        fragment = setTagAttribute(filePathAttribute, fragment, dir);\n        fragment = changeTagAttributeName(filePathAttribute, fragment, \"absPath\");\n      }\n      return fragment;\n    })\n\n    content = content.join('');\n    return content;\n  }\n\n  // returns the index of the closing tag for a given opening tag\n  function findIndexOfClosingTag(openTag, closeTag, startNdx, arr) {\n    var endNdx = -1;\n    var openCount = 1;\n\n    for(var i = startNdx + 1; i < arr.length; i++) {\n      if(arr[i].indexOf(openTag) === 0)\n        openCount++;\n      else if(arr[i].indexOf(closeTag) === 0) {\n        openCount--;\n        if(openCount === 0) {\n          endNdx = i;\n          break;\n        }\n      }\n    }\n    return endNdx;\n  }\n\n  // <!--#if jsonPath=\"\" rawJson=\"\" -->\n  // <!--#endif -->\n  function processIf(file, ndx, arr) {\n    var endNdx = -1,\n        content = arr[ndx],\n        rawJson = \"\",\n        jsonPath = \"\",\n        jsonData;\n\n    if(hasTagAttribute(jsonPathAttribute, content))\n      jsonPath = getTagAttribute(jsonPathAttribute, content);\n\n    if(hasTagAttribute('rawJson', content)) {\n      rawJson = getTagAttribute('rawJson', content);\n      rawJson = processRawJson(rawJson);\n    }\n\n    jsonData = getDataFromJsonPath(jsonPath, rawJson);\n\n    // clear if statement\n    arr[ndx] = \"\";\n\n    endNdx = findIndexOfClosingTag('<!--#if', '<!--#endif', ndx, arr);\n\n    // If we have no closing tag, then this is an error\n    if(endNdx === -1) {\n      console.error(\"ERROR: in file \" + file.path + \": <!--#if . . . --> with no <!--#endif . . . -->\");\n      return;\n    }\n\n    // clear endif statement\n    arr[endNdx] = \"\";\n\n    // If there is no jsonPath we have no way to check the data ...\n    if(!jsonPath) {\n      console.error(\"ERROR: in file \" + file.path + \": <!--#if --> with no jsonPath\");\n      return;\n    }\n\n    if(typeof(jsonData) === 'undefined' || jsonData == false) {\n      for(var i = ndx; i < endNdx; i++)\n        arr[i] = \"\";\n    }\n  }\n\n  // <!--#each count=\"\" jsonPath=\"\" rawJson=\"\" -->\n  // <!--#endeach -->\n  function processEach(file, ndx, arr) {\n    var endNdx = -1,\n        startNdx = ndx + 1,\n        content = arr[ndx],\n        middle = [],\n        jsonPath = \"\",\n        rawJson = \"\",\n        jsonData = \"\",\n        count = false;\n\n    // if there is an inner each, we do these first, so return\n    for(let i = startNdx; i <= endNdx; i++)\n      if(arr[i].indexOf('<!--#each') === 0)\n        return;\n\n    if(hasTagAttribute(jsonPathAttribute, content))\n      jsonPath = getTagAttribute(jsonPathAttribute, content);\n\n    if(hasTagAttribute('rawJson', content)) {\n      rawJson = getTagAttribute('rawJson', content);\n      rawJson = processRawJson(rawJson);\n    }\n    if(jsonPath)\n      jsonData = getDataFromJsonPath(jsonPath, rawJson);\n    if(hasTagAttribute('count', content))\n      count = parseInt(getTagAttribute('count', content), 10);\n\n    if(Array.isArray(jsonData)) {\n      if(!count)\n        count = jsonData.length;\n      else if(count > jsonData.length) {\n        console.warn(\"WARNING: in file \" + file.path + \": <!--#each --> with count attribute higher than array input's length. Changing to length of array\");\n        count = jsonData.length;\n      }\n    }\n\n    if(!count && !jsonPath) {\n      console.error(\"ERROR: in file \" + file.path + \": <!--#each --> with no count attribute, and no array as json object.\");\n      return;\n    }\n\n    endNdx = findIndexOfClosingTag('<!--#each', '<!--#endeach', ndx, arr);\n\n    // If we have no closing tag, then this is an error\n    if(endNdx === -1) {\n      console.error(\"ERROR: in file \" + file.path + \": <!--#each --> with no <!--#endeach -->\");\n      return;\n    }\n\n    if(endNdx === (ndx - 1))\n      console.warn(\"WARNING: in file \" + file.path + \": <!--#each --> with no content\");\n\n    // clear end tag\n    arr[ndx] = \"\";\n    arr[endNdx] = \"\";\n\n    middle = arr.splice(startNdx, endNdx - startNdx)\n\n    content = [];\n\n    // create all the duplicates of the data with the proper inserted data\n    for(let i = 0; i < count; i++) {\n      let tmp = [ ...middle ]; // clone the lines we are adding\n\n      // if we have jsonData to insert ...\n      if(jsonData && Array.isArray(jsonData)) {\n        for(let j = 0; j < tmp.length; j++) {\n          if(tmp[j].indexOf('<!--#data')   === 0 && !hasTagAttribute('rawJson', tmp[j])) {\n            if(Array.isArray(jsonData)) {\n              tmp[j] = addTagAttribute('rawJson', tmp[j], toSafeJsonString(jsonData[i]))\n            }\n            if(typeof(jsonData[i]) === 'object') {\n              tmp[j] = addTagAttribute('rawJson', tmp[j], toSafeJsonString(jsonData[i]))\n            }\n            else {\n              tmp[j] = '' + jsonData[i];\n            }\n          }\n          if((tmp[j].indexOf('<!--#wrap')   === 0 ||\n              tmp[j].indexOf('<!--#insert') === 0   ) &&\n             !hasTagAttribute('rawJson', tmp[j])      &&\n             typeof(jsonData[i]) === 'object'\n          ) {\n            tmp[j] = addTagAttribute('rawJson', tmp[j], toSafeJsonString(jsonData[i]));\n          }\n        }\n      }\n\n      // add the new lines to the content\n      content = content.concat(tmp);\n    }\n\n    arr.splice.apply(arr, [startNdx, 0].concat(content))\n  }\n\n  // <!--#wrap path=\"\" jsonPath=\"\" rawJson=\"\" -->\n  // <!--#middle -->\n  // <!--#endwrap -->\n  function processWraps(file, ndx, arr) {\n    var endNdx = -1,\n        fpath = \"\",\n        content = arr[ndx],\n        filename = \"\",\n        rawJson = \"\",\n        jsonParentPath = \"\",\n        pathPattern = 'path=\"',\n        absPathPattern = 'absPath=\"'\n        pattern = (content.indexOf(pathPattern) > -1) ? pathPattern : absPathPattern,\n        pathTag = (pattern === pathPattern) ? 'path' : 'absPath';\n\n    // see if we are loading a json path\n    if(hasTagAttribute(jsonPathAttribute, content))\n      jsonParentPath = getTagAttribute(jsonPathAttribute, content);\n\n    // see if we have raw json to load from\n    if(hasTagAttribute('rawJson', content))\n      rawJson = getTagAttribute('rawJson', content);\n\n    // get filepath (either relative or absolute)\n    filename = (pattern === pathPattern)\n      ? getTagAttribute(filePathAttribute, arr[ndx])\n      : getTagAttribute(\"absPath\", arr[ndx]);\n\n    // build filepath if its relative\n    fpath = (pattern === pathPattern)\n      ? buildPathFromRelativePath(file.path, filename)\n      : filename;\n\n    // find closing tag\n    endNdx = findIndexOfClosingTag('<!--#wrap', '<!--#endwrap', ndx, arr);\n\n    // If we have no closing tag, then this is an error\n    if(endNdx === -1) {\n      console.error(\"ERROR: in file \" + file.path + \": <!--#wrap . . . --> with no <!--#endwrap . . . -->\");\n      return \"\";\n    }\n\n    // Get the wrap file and split it in the middle\n    if(wrapFiles[fpath]) {\n      content = wrapFiles[fpath].content.split(/<!--#middle\\s*-->/);\n      if(content.length !== 2) {\n        console.error(\"ERROR: in file \" + file.path + \": wrap file has no <!--#middle--> or more than one <!--#middle--> tags\");\n        return \"\";\n      }\n    }\n    else {\n      console.error(\"ERROR: in file \" + file.path + \": no wrapFile by the name `\" + filename + \"`\");\n      return \"\";\n    }\n\n    if(rawJson) {\n      content[0] = addRawJsonWhereJsonPath(content[0], rawJson, jsonParentPath);\n      content[1] = addRawJsonWhereJsonPath(content[1], rawJson, jsonParentPath);\n    }\n    else if(jsonParentPath) {\n      content[0] = appendJsonParentPath(content[0], jsonParentPath);\n      content[1] = appendJsonParentPath(content[1], jsonParentPath);\n    }\n\n    if(file.tmpPath) {\n      content[0] = updateRelativePaths(file.tmpPath, content[0]);\n      content[1] = updateRelativePaths(file.tmpPath, content[1]);\n    }\n\n    arr[ndx] = content[0];\n    arr[endNdx] = content[1];\n  }\n\n  // <!--#insert path=\"\" -->\n  function processInserts(file) {\n    var filename = \"\",\n        rawJson = \"\",\n        jsonPath = \"\",\n        jsonParentPath = \"\",\n        content  = file.content;\n\n    if(hasTagAttribute(jsonPathAttribute, content))\n      jsonParentPath = getTagAttribute(jsonPathAttribute, content);\n\n    if(hasTagAttribute('rawJson', content))\n      rawJson = getTagAttribute('rawJson', content);\n\n    if(hasTagAttribute(filePathAttribute, content)) {\n      filename = getTagAttribute(filePathAttribute, content);\n      filename = buildPathFromRelativePath(file.path, filename);\n    }\n    else if(hasTagAttribute('absPath', content))\n      filename = getTagAttribute(\"absPath\", content)\n\n    if(insertFiles[filename])\n      content = insertFiles[filename].content;\n    else {\n      console.error(\"ERROR: in file \" + file.path + \": insert file `\" + filename + \"` does not exist\");\n      return \"\";\n    }\n\n    if(rawJson)\n      content = addRawJsonWhereJsonPath(content, rawJson);\n    else if(jsonParentPath)\n      content = appendJsonParentPath(content, jsonParentPath);\n\n    if(file.tmpPath)\n      content = updateRelativePaths(file.tmpPath, content);\n\n    return content;\n  }\n\n  // <!--#data jsonPath=\"\" default=\"\" -->\n  function processJsonData(tag) {\n    var jsonPath = \"\",\n        rawJson = \"\",\n        defaultValue = \"\",\n        jsonData = \"\";\n\n    jsonPath = getTagAttribute(jsonPathAttribute, tag);\n\n    if(hasTagAttribute(\"default\", tag))\n      defaultValue = getTagAttribute('default', tag);\n\n    if(hasTagAttribute('rawJson', tag)) {\n      rawJson = getTagAttribute('rawJson', tag);\n      rawJson = processRawJson(rawJson);\n    }\n\n    jsonData = getDataFromJsonPath(jsonPath, rawJson);\n\n    return jsonData || defaultValue;\n  }\n\n  // <!--#jsonInsert jsonPath=\"\" default=\"\" -->\n  function processJsonInsert(tag) {\n    var jsonPath = \"\",\n        rawJson  = \"\",\n        defaultValue = \"\",\n        jsonData = \"\";\n\n    jsonPath = getTagAttribute(jsonPathAttribute, tag);\n\n    if(hasTagAttribute(\"default\", tag))\n      defaultValue = getTagAttribute('default', tag);\n\n    jsonData = getDataFromJsonPath(jsonPath);\n\n    if(jsonData || defaultValue)\n      return jsonData || defaultValue;\n    else {\n      console.warning(\"ERROR: jsonPath `\" + jsonPath + \"` is undefined, and no default value\");\n      return \"\";\n    }\n  }\n\n  function processContent(content, path) {\n    let pathStack = path;\n    let tempDirectory = \"\";\n    let splitArr = [];\n    let itterCount = 0;\n\n    // prime loop: split content into all insertion points\n    splitArr = splitContent(content); // '' => ['']\n\n    // if we have an array larger than 1, then there is at least 1 insert to be made\n    while(splitArr.length > 1) {\n      pathStack = path;\n\n      // process content\n      for(let i = 0; i < splitArr.length; i++) {\n        let fragment = splitArr[i];\n\n        if(fragment.indexOf('<!--#') === 0) {\n          // process any tags inside of this\n          fragment = '<' + processContent(fragment.substr(1), path);\n\n          let hasPath = hasTagAttribute(filePathAttribute, fragment);\n          let hasAbsPath = hasTagAttribute(\"absPath\", fragment);\n\n          if(hasPath)\n            tempDirectory = buildPathFromRelativePath(pathStack, getTagAttribute(filePathAttribute, fragment));\n          else if(hasAbsPath) {\n            tempDirectory = getTagAttribute(\"absPath\", fragment);\n            pathStack= tempDirectory;\n          }\n\n          if(fragment.indexOf('<!--#if') === 0) {\n            processIf({ ret: 'content', content: fragment, path: pathStack, tmpPath: tempDirectory  }, i, splitArr)\n          }\n          else if(fragment.indexOf('<!--#each') === 0) {\n            processEach({ ret: 'content', content: fragment, path: pathStack, tmpPath: tempDirectory  }, i, splitArr)\n          }\n          else if(fragment.indexOf('<!--#wrap') === 0) {\n            processWraps({ ret: 'content', content: fragment, path: pathStack, tmpPath: tempDirectory  }, i, splitArr);\n          }\n          else if(fragment.indexOf(insertPattern) === 0) {\n            splitArr[i] = processInserts({ ret: 'content', content: fragment, path: pathStack, tmpPath: tempDirectory })\n          }\n          else if(fragment.indexOf('<!--#data') === 0) {\n            splitArr[i] = processJsonData(fragment)\n          }\n          else if(fragment.indexOf('<!--#jsonInsert') === 0) {\n            splitArr[i] = processJsonInsert(fragment);\n          }\n\n          pathStack = path;\n        }\n      }\n\n      // re-join content into a string, and repeat\n      content = splitArr.join('') // [''] => ''\n\n      // split file into all insertion points\n      splitArr = splitContent(content); // '' => ['']\n\n      // debug features\n      if(devOptions.printIterations)\n        console.log(content);\n\n      if(devOptions.limitIterations) {\n        itterCount++;\n        if(itterCount >= devOptions.limitIterations)\n          break;\n      }\n    }\n\n    if(devOptions.printResult)\n      console.log(content);\n\n    return content;\n  }\n\n  // <!--#clipbefore -->\n  // <!--#clipafter -->\n  // <!--#clipbetween -->\n  // <!--#endclipbetween -->\n  // This runs first, since all of the clipped areas will completely be removed\n  function processClip(file) {\n    var tmp;\n\n    if(file.content.indexOf('<!--#clipbefore') > -1) {\n\n      file.content = file.content\n              .split(/<!--#clipbefore\\s*-->/)\n              .splice(1)[0]\n              .split('<!--#clipafter')\n              .splice(0,1)[0];\n    }\n\n    if(file.content.indexOf('<!--#clipbetween') > -1) {\n\n      tmp = file.content\n          .split(/<!--#clipbetween\\s*-->/);\n\n      file.content = tmp[0] + tmp[1].split(/<!--#endclipbetween\\s*-->/)[1];\n    }\n  }\n\n  includer.initialize = function initialize(ops) {\n    //reset vars in case these had kept their value in closure\n    wrapFiles = {};\n    insertFiles = {};\n    pageFiles = [];\n    devOptions = ops.dev || {};\n    options = ops;\n\n    //set text value for insert tags, or default\n    insertPattern = (options.insertPattern) ?\n        '<!--#' + options.insertPattern\n      : '<!--#insert';\n\n    filePathAttribute = (options.filePathAttribute) ?\n        options.filePathAttribute\n      : 'path';\n\n    jsonPathAttribute = (options.jsonPathAttribute) ?\n        options.jsonPathAttribute\n      : 'jsonPath';\n  };\n\n  // builds string\n  includer.buildFileResult = function buildFileResult(callback) {\n\n    return pageFiles.map(function(file) {\n      file.content = processContent(file.content, file.path);\n      file.processed = true;\n\n      if(callback) {\n        callback(file);\n      }\n\n      return file;\n    });\n  };\n\n  // puts files into hash maps\n  includer.hashFile = function hashFile(file) {\n    var f = File(file);\n\n    processClip(f);\n\n    if(f.name[0] === '_')\n      wrapFiles[f.path] = f;\n    else if(f.name[0] === '-')\n      insertFiles[f.path] = f;\n    else\n      pageFiles.push(f);\n  };\n\n  return includer;\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}