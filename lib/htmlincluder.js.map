{"version":3,"file":"htmlincluder.js","mappings":"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","sources":["webpack://gulp-htmlincluder/./src/config.mjs","webpack://gulp-htmlincluder/./src/parse.mjs","webpack://gulp-htmlincluder/webpack/bootstrap","webpack://gulp-htmlincluder/webpack/runtime/define property getters","webpack://gulp-htmlincluder/webpack/runtime/hasOwnProperty shorthand","webpack://gulp-htmlincluder/webpack/runtime/make namespace object","webpack://gulp-htmlincluder/./src/index.mjs"],"sourcesContent":["export const wrapFiles = {};\nexport const insertFiles = {};\nexport const pageFiles = [];\n\nexport let options = {};\nexport let devOptions = {};\nexport let insertPattern;\nexport let filePathAttribute;\nexport let jsonPathAttribute;\n\nexport const configureFiles = file => {\n  if(file.name[0] === '_')\n    wrapFiles[file.path] = file;\n  else if(file.name[0] === '-')\n    insertFiles[file.path] = file;\n  else\n    pageFiles.push(file);\n}\n\n// @options = (optional) options for configuring htmlIncluder\n// options.jsonInput         = A json object used to populate data in files\n// options.insertPattern     = The test looked for in order to insert files\n//          (this is so ssi includes can be used instead)\n// options.filePathAttribute = the name used for the file pathing for #insert\n//          and #wrap (default= 'path')\n// options.jsonPathAttribute = the name used for the file pathing for #insert\n//          , #wrap, #data, #jsonInsert (default= 'jsonPath')\n//\n//\n// options.dev.limitIterations = the number of times processFileWithJsonInput will loop\n// options.dev.printIterations = console log each processFileWithJsonInput loop\n// options.dev.printResult = console logs the final output\n// options.dev.printPaths = console logs the output of buildPathFromRelativePath\nexport const setOptions = ops => {\n  devOptions = ops.dev || {};\n  options = ops;\n\n  //set text value for insert tags, or default\n  insertPattern = (options.insertPattern)\n    ? '<!--#' + options.insertPattern\n    : '<!--#insert';\n\n  filePathAttribute = (options.filePathAttribute)\n    ? options.filePathAttribute\n    : 'path';\n\n  jsonPathAttribute = (options.jsonPathAttribute)\n    ? options.jsonPathAttribute\n    : 'jsonPath';\n}\n","import {\n  jsonPathAttribute,\n  filePathAttribute,\n  insertFiles,\n  wrapFiles,\n  options,\n  devOptions,\n  insertPattern,\n} from './config.mjs';\n\n// shape of our AST nodes\nconst getDefaultNode = () => ({\n  type            : '',\n  file            : {},\n  originalContent : '',\n  content         : '',\n  parent          : {},\n  innerScope      : null,\n  children        : [], // list of sequential nodes wrapped in tag (or at topNode)\n  nestedNodes     : [], // nested tags - these need to be resolved before this tag is resolved\n  attributes      : {}, // attributes on tag\n})\n\n// entry point for processing files\nexport const processFile = (file, json, parent, innerScope) => {\n  // convert string into object\n  const topNode = {\n    ...getDefaultNode(),\n    type    : 'topNode',\n    file,\n    originalContent : file.content,\n    content : file.content,\n    ...(parent     ? { parent }     : {}),\n    ...(innerScope ? { innerScope } : {}),\n  };\n\n  // don't do work if there are no tags in the file\n  if(topNode.originalContent.indexOf('<!--#') === -1)\n    return topNode;\n\n  // process children of the node\n  processNode(topNode, json);\n\n  return topNode;\n}\n\n//\nconst processNode = (node, json) => {\n  if(node.type === 'textContent') return node;\n\n  // the contents of a node may contain more nested nodes\n  // break these up into an array of mixed textContent nodes and tags\n  const contentArr = splitContent(node.content).filter(c => c !== '');\n\n  // convert array of strings to nodes\n  node.nestedNodes = buildNodes(node, contentArr, json);\n\n  return resolveNode(node, json);\n}\n\n//\nconst buildNodes = (parent, contentArr, json, closeTag) => {\n  const nodes = [];\n\n  while(contentArr.length > 0) {\n    const content = contentArr.shift();\n\n    // if we find the close tag, then we are done with our search\n    if(closeTag && content.indexOf(closeTag) === 0)\n      return nodes;\n\n    // lookup type of the tag\n    const type = findNodeType(content);\n\n    const node = {\n      ...getDefaultNode(),\n      type,\n      parent,\n      file            : parent.file,\n      innerScope      : parent.innerScope,\n      originalContent : content,\n      content,\n    };\n\n    // if this is a text node, we're set\n    if(type === 'textContent') {\n      nodes.push(node);\n      continue;\n    }\n\n    // remove leading character ('<') so the inner contents can be parsed properly\n    node.content = node.originalContent.slice(1);\n\n    // the contents inside a node can be treated like new little documents\n\n    // if this is a node that has children build them up, removing them\n    // from the split up array\n    node.children = (\n        type === 'wrap' ? buildNodes(node, contentArr, json, '<!--#endwrap')\n      : type === 'each' ? buildNodes(node, contentArr, json, '<!--#endeach')\n      : type === 'if'   ? buildNodes(node, contentArr, json, '<!--#endif')\n      : []\n    );\n\n    nodes.push(node);\n  }\n\n  // We should never get here while looking for a closing tag\n  if(closeTag)\n    console.warn(`WARNING while processing file '${parent.file.path}': there is a missing tag`);\n\n  return nodes;\n}\n\n//\nconst resolveNode = (node, json) => {\n  // resolve nested tags\n  if(node.nestedNodes.length > 0) {\n    node.nestedNodes.forEach(node => processNode(node, json));\n    node.content = joinContent(node.nestedNodes);\n  }\n\n  // process node so that content is resolved\n  const processor = nodeProcessors[node.type];\n\n  // There is a problem if we found no processor\n  if(!processor) {\n    console.warn(`WARNING while processing file '${node.file.path}': there is no processor for type '${node.type}'`);\n    return node;\n  }\n\n  // load and resolve attribute values\n  node.attributes = loadNodeAttributes(node, json);\n\n  return processor(node, json);\n}\n\n// loads values for tags into node object\nconst loadNodeAttributes = (node, json) => {\n  const attrs = nodeAttributes[node.type] || [];\n  return attrs.reduce((acc, attr) => {\n    if(hasTagAttribute(attr, node.content)) {\n      const value = getTagAttribute(attr, node.content);\n      acc[attr] = (attr === 'rawJson') ? processRawJson(value, json) : value;\n    }\n    return acc;\n  }, {})\n}\n\n// check for tag and return node type\nconst findNodeType = content => (\n  content.indexOf('<!--#insert')     === 0 ? 'insert'\n: content.indexOf('<!--#data')       === 0 ? 'data'\n: content.indexOf('<!--#jsonInsert') === 0 ? 'jsonInsert'\n: content.indexOf('<!--#wrap')       === 0 ? 'wrap'\n: content.indexOf('<!--#middle')     === 0 ? 'middle'\n: content.indexOf('<!--#each')       === 0 ? 'each'\n: content.indexOf('<!--#if')         === 0 ? 'if'\n: 'textContent'\n)\n\n//\nconst joinContent = nodeList => nodeList.map(c => c.content).join('')\n\n// the functions that processes each node\n// these assume that they have all their nested nodes resolved and attributes loaded\nconst nodeProcessors = {\n  //\n  topNode : (node, json) => {\n    node.content = joinContent(node.nestedNodes)\n    return node;\n  },\n  //\n  textContent : (node, json) => {\n    console.warn('WARNING: Why are we processing a textContent?');\n    return node;\n  },\n  //\n  insert : (node, json) => {\n    const { file, innerScope } = node;\n    const { path, jsonPath, rawJson } = node.attributes;\n    if(!path) {\n      console.warn(`WARNING while processing file '${file.path}': insert tag with no path attribute`);\n      node.content = '';\n      return node;\n    }\n\n    // get filename for inserted file\n    const filename = buildPathFromRelativePath(file.path, path);\n\n    // see if file we are loading exists\n    if(!insertFiles[filename]) {\n      console.warn(`WARNING while processing file '${file.path}': insert file '${filename}' does not exist`);\n      node.content = '';\n      return node;\n    }\n\n    // load contents from file\n    const insertFile = { ...insertFiles[filename] };\n\n    // set scope for inserted file\n    const newInnerScope = (\n        rawJson    && jsonPath ? getDataFromJsonPath(jsonPath, rawJson)\n      : innerScope && jsonPath ? getDataFromJsonPath(jsonPath, innerScope)\n      : rawJson  ? rawJson\n      : jsonPath ? getDataFromJsonPath(jsonPath, json)\n      : void(0)\n    );\n\n    const insertNode = processFile(insertFile, json, node, newInnerScope);\n\n    // process contents to get children\n    node.content = insertNode.content;\n    return node;\n  },\n  //\n  wrap : (node, json) => {\n    const { file, innerScope } = node;\n    const { path, jsonPath, rawJson } = node.attributes;\n    if(!path) {\n      console.warn(`WARNING while processing file '${node.file.path}': wrap tag with no path attribute`);\n      node.content = '';\n      return node;\n    }\n\n    // get filename for inserted file\n    const filename = buildPathFromRelativePath(file.path, path);\n\n    // see if file we are loading exists\n    if(!wrapFiles[filename]) {\n      console.warn(`WARNING while processing file '${node.file.path}': wrap file '${filename}' does not exist`);\n      node.content = '';\n      return node;\n    }\n\n    // we need to process the children before we bring in the file\n\n    // handle children content\n    node.children = node.children.map(childNode => processNode(childNode, json))\n    node.content = joinContent(node.children);\n\n    // load contents from file\n    const wrapFile = { ...wrapFiles[filename] };\n\n    // set scope for inserted file\n    const newInnerScope = (\n        rawJson    && jsonPath ? getDataFromJsonPath(jsonPath, rawJson)\n      : innerScope && jsonPath ? getDataFromJsonPath(jsonPath, innerScope)\n      : rawJson  ? rawJson\n      : jsonPath ? getDataFromJsonPath(jsonPath, json)\n      : void(0)\n    );\n\n    const wrapNode = processFile(wrapFile, json, node, newInnerScope);\n\n    // process contents to get children\n    node.content = wrapNode.content;\n    return node;\n  },\n  //\n  middle : (node, json) => {\n    node.content = node.parent.parent.content\n    return node;\n  },\n  //\n  data : (node, json) => {\n    const { innerScope, file } = node;\n    const { jsonPath, rawJson } = node.attributes;\n    const defaultVal = node.attributes.default;\n\n    if(!jsonPath || (!rawJson && !innerScope && !defaultVal)) {\n      console.warn(`WARNING while processing file '${file.path}': data tag with no data to look up for content '${node.originalContent}'`);\n      node.content = '';\n      return node;\n    }\n    const values = rawJson || innerScope;\n    const data = getDataFromJsonPath(jsonPath, values);\n    node.content = data || defaultVal || '';\n    return node;\n  },\n  //\n  jsonInsert : (node, json) => {\n    const { jsonPath } = node.attributes;\n    const defaultVal = node.attributes.default;\n    if(!jsonPath) {\n      node.content = '';\n      return node;\n    }\n    const data = getDataFromJsonPath(jsonPath, json);\n    node.content = data || defaultVal || '';\n    return node;\n  },\n  //\n  each : (node, json) => {\n    const { file, innerScope } = node;\n    const { count, jsonPath, rawJson } = node.attributes;\n    if(!count && !jsonPath && !Array.isArray(rawJson) && !Array.isArray(innerScope)) {\n      console.warn(`WARNING while processing file '${file.path}': each tag with attribute problems: count, jsonPath and rawJson and innerScope are not arrays`);\n      node.content = '';\n      return node;\n    }\n\n    // determine what data we are using\n    const values = rawJson || node.innerScope || json;\n    const jsonData = jsonPath ? getDataFromJsonPath(jsonPath, values) : void(0);\n    const data = (\n        Array.isArray(values)   ? values\n      : Array.isArray(jsonData) ? jsonData\n      : void(0)\n    );\n\n    if(!data && !count) {\n      node.content = '';\n      return node;\n    }\n\n    // build up nodes and bind the correct data\n    const tmpContent = [];\n    for(\n      let i = 0;\n         (!count || (count && i < count))\n      && (!data  || (data  && i < data.length));\n      i++)\n    {\n      // clone children\n      let tmpChildren = node.children.map(c => ({\n        ...c,\n        ...(c.nestedNodes ? { nestedNodes : c.nestedNodes} : { }),\n        ...(c.children    ? { children : c.children } : { }),\n        ...(data\n          // ? { innerScope : (typeof(data[i]) === 'object') ? { ...data[i] } : data[i] }\n          ? { innerScope : data[i] }\n          : { }\n        ),\n      }))\n      // handle children content\n      tmpChildren = tmpChildren.map(childNode => processNode(childNode, json))\n      tmpContent.push(joinContent(tmpChildren));\n    }\n\n    node.content = tmpContent.join('');\n    return node;\n  },\n  //\n  if : (node, json) => {\n    const { innerScope } = node;\n    const { jsonPath, rawJson } = node.attributes;\n    if(!jsonPath) {\n      node.content = '';\n      return node;\n    }\n\n    const values = rawJson || innerScope || json;\n    const jsonData = getDataFromJsonPath(jsonPath, values);\n    if(!jsonData) {\n      node.content = '';\n      return node;\n    }\n    node.children = node.children.map(childNode => {\n      return processNode({\n        ...childNode,\n        innerScope : { ...node.innerScope }\n      }, json);\n    })\n    node.content = joinContent(node.children);\n    return node;\n  },\n}\n\n// the legal attributes for each element\nconst nodeAttributes = {\n  insert      : [ 'path', 'jsonPath', 'rawJson' ],\n  data        : [ 'jsonPath', 'rawJson', 'default' ],\n  jsonInsert  : [ 'jsonPath', 'default' ],\n  wrap        : [ 'path', 'jsonPath', 'rawJson' ],\n  middle      : [  ],\n  each        : [ 'count', 'jsonPath', 'rawJson' ],\n  if          : [ 'jsonPath', 'rawJson' ],\n  textContent : [  ],\n}\n\nconst getTagPositions = (tag, content, lndx = 0, ndx = content.indexOf(tag)) => (\n  (ndx === -1)\n? []\n: [ ndx + lndx, ...getTagPositions(tag, content.slice(ndx + 1), lndx + ndx + 1) ]\n)\n\nconst buildTagPairs = (open, close) => (\n    (open.length === 0) ? []\n  : (open.length === 1 || open[1] > close[0]) ? [[open.slice(0, 1)[0], close.slice(0, 1)[0]], ...buildTagPairs(open.slice(1), close.slice(1))]\n  : [ ...buildTagPairs([...open.slice(0,1), ...open.slice(2)], close.slice(1)) ]\n)\n\nconst divideContent = (content, [start, end], pairs, cursor = 0) => (\n  (start === void(0))\n? [ content.slice(cursor) ]\n: [\n    content.slice(cursor, start),\n    content.slice(start, end+3),\n    ...divideContent(content, pairs.shift() || [], pairs, end+3),\n  ]\n)\n\nconst splitContent = content => {\n  const openTags  = getTagPositions('<!--#', content);\n  const closeTags = getTagPositions('-->', content);\n\n  if(openTags.length < closeTags.length) closeTags.pop();\n\n  const pairs = buildTagPairs(openTags, closeTags);\n\n  return divideContent(content, pairs.shift() || [], pairs).filter(c => c !== '');\n}\n\n// given a jsonObject and a path, return the data pointed at\nconst getDataFromJsonPath = (jsonPath, json) => {\n  if(jsonPath === 'this') return json;\n\n  let result = jsonPath.split('.').reduce((acc, cur) => acc ? acc[cur] : '', json)\n\n  if(!Array.isArray(result) && typeof(result) === 'object')\n    result = toSafeJsonString(result);\n\n  return result;\n}\n\n// are we on windows?\nconst isWin = /^win/.test(process.platform);\n\n// overcome the difference in *nix/windows pathing\nconst fixFilePathForOS = path =>\n  (isWin) ? path.replace(/\\//g, '\\\\') : path.replace(/\\\\/g, '/')\n\n// given the current directory and a relative path, build the complete path\n// to the relative path\nconst buildPathFromRelativePath = (cdir, fdir) => {\n  let dirChar = (isWin) ? '\\\\' : '/';\n  let dir = cdir.split(dirChar);\n  dir.pop();\n\n  fdir = fixFilePathForOS(fdir);\n\n  fdir.split(dirChar)\n    .forEach(function(e) {\n      (e === '..') ? dir.pop() : (e !== '.' && e !== '') ? dir.push(e) : void 0;\n    });\n  dir = dir.join(dirChar);\n\n  return dir;\n}\n\n//\nconst toSafeJsonString = jsonObj =>\n  JSON.stringify(jsonObj).replace(/\\'/g, \"\\\\'\").replace(/\"/g, \"'\")\n\n//\nconst processRawJson = (jsonString, json) => {\n  if(typeof(jsonString) === 'object')\n    jsonString = toSafeJsonString(jsonString);\n\n  let jsonData = {};\n  try {\n    eval('jsonData = ' + jsonString);\n  }\n  catch(e) {\n    console.error(`ERROR: Poorly formatted rawJson string:\n      ${jsonString}\n      - This must be valid JavaScript.\n      - Or perhaps there was an error in a function used for rawJson?\n      Stack trace:\n    `);\n    console.error(e);\n  }\n\n  return jsonData;\n}\n\n// does a tag have an attribute? (attributeName=\"value\")\nconst hasTagAttribute = (attr, content) => content.indexOf(attr + '=\"') > -1\n\n// get the value of an attribute (attributeName=\"value\")\nconst getTagAttribute = (attr, content) => {\n  let fndx = -1,\n      lndx = -1;\n\n  fndx = content.indexOf(attr + '=\"');\n  if(fndx === -1) {\n    console.warn(\"Warning: no tag of name `\" + attr + \"` found in the following content: `\" + content + \"`\")\n    return '';\n  }\n\n  content = content.slice(fndx + attr.length + 2);\n  lndx = content.indexOf('\"');\n  content = content.slice(0, lndx);\n  return content;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { configureFiles, setOptions, pageFiles, options } from './config.mjs';\nimport { processFile } from './parse.mjs';\n\nmodule.exports = {\n  initialize : options => setOptions(options),\n  // puts files into hash maps\n  hashFile : file => {\n    const f = formatFile(file);\n\n    // removing clip right away does no damage and speeds up later processing\n    processClip(f);\n\n    configureFiles(f);\n  },\n  // map on page files and build them into strings\n  buildFileResult : callback => pageFiles.map(file => {\n    const processedFile = processFile(file, options.jsonInput || {});\n    file.content = processedFile.content;\n\n    file.processed = true;\n\n    if(callback)\n      callback(file);\n\n    return file;\n  }),\n};\n\nconst isWin = /^win/.test(process.platform);\n\nconst formatFile = file => {\n  let f = {\n    path : file.path,\n    content : file.contents.toString('utf8').trim(),\n    processed : false,\n    file : file,\n  };\n\n  f.name = (isWin) ? file.path.split('\\\\') : file.path.split('/');\n  f.name = f.name[f.name.length-1];\n\n  return f;\n}\n\n// This runs first, since all of the clipped areas will completely be removed\nconst processClip = file => {\n  // process clipbefore and clipafter\n  if(file.content.indexOf('<!--#clipbefore') > -1) {\n    file.content = file.content\n      .split(/<!--#clipbefore\\s*-->/)\n      .splice(1)[0]\n      .split('<!--#clipafter')\n      .splice(0,1)[0];\n  }\n\n  // process clipbetween\n  if(file.content.indexOf('<!--#clipbetween') > -1) {\n    const tmp = file.content.split(/<!--#clipbetween\\s*-->/);\n    file.content = tmp[0] + tmp[1].split(/<!--#endclipbetween\\s*-->/)[1];\n  }\n}\n"],"names":["wrapFiles","insertFiles","pageFiles","options","devOptions","insertPattern","filePathAttribute","jsonPathAttribute","configureFiles","file","name","path","push","setOptions","ops","dev","getDefaultNode","type","originalContent","content","parent","innerScope","children","nestedNodes","attributes","processFile","json","topNode","indexOf","processNode","node","contentArr","splitContent","filter","c","buildNodes","resolveNode","closeTag","nodes","length","shift","findNodeType","slice","console","warn","forEach","joinContent","processor","nodeProcessors","loadNodeAttributes","attrs","nodeAttributes","reduce","acc","attr","hasTagAttribute","value","getTagAttribute","processRawJson","nodeList","map","join","textContent","insert","jsonPath","rawJson","filename","buildPathFromRelativePath","insertFile","newInnerScope","getDataFromJsonPath","insertNode","wrap","childNode","wrapFile","wrapNode","middle","data","defaultVal","values","jsonInsert","each","count","Array","isArray","jsonData","tmpContent","i","tmpChildren","getTagPositions","tag","lndx","ndx","buildTagPairs","open","close","divideContent","pairs","start","end","cursor","openTags","closeTags","pop","result","split","cur","toSafeJsonString","isWin","test","process","platform","fixFilePathForOS","replace","cdir","fdir","dirChar","dir","e","jsonObj","JSON","stringify","jsonString","eval","error","fndx","module","exports","initialize","hashFile","f","formatFile","processClip","buildFileResult","callback","processedFile","jsonInput","processed","contents","toString","trim","splice","tmp"],"sourceRoot":""}